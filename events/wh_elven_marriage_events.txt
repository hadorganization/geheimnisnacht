namespace = selfmarriage

# Fiancee: hidden event to set the traits and straighten the scopes
character_event = {
	id = selfmarriage.1
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# add_trait = courting # Added only after first accepted gift
		FROMFROM = {
			# save_event_target_as = suitor
			add_trait = courting
		}
		# 	if = { limit = { ROOT = { is_ruler = yes } }
		# 			ROOT = { save_event_target_as = fiancee } }
		# 	if = { limit = { ROOT = { is_ruler = no } }
		# 			ROOT = { save_event_target_as = fiancee }
		# 			liege = { save_event_target_as = fiancee_guardian } }
		FROMFROM = {
			character_event = {
				id = selfmarriage.1001
			}
		}
	}
}

# Suitor: Engage Courtship
character_event = {
	id = selfmarriage.1001
	desc = {
		text = EVTDESCAselfmarriage1001
		trigger = {
			FROM = {
				is_married = no
			}
			NOT = {
				is_married = yes
			}
		}
	}
	desc = {
		text = EVTDESCBselfmarriage1001
		trigger = {
			FROM = {
				is_married = yes
			}
			NOT = {
				is_married = yes
			}
		}
	}
	desc = {
		text = EVTDESCCselfmarriage1001
		trigger = {
			is_married = yes
		}
	}
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# You are married
		name = EVTOPTXselfmarriage1001
		trigger = {
			is_married = yes
		}
		remove_trait = courting
		FROM = {
			remove_trait = courting
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		# The fiancee married, too bad for you
		name = EVTOPTZselfmarriage1001
		trigger = {
			FROM = {
				is_married = yes
			}
		}
		remove_trait = courting
		prestige = -50
		FROM = {
			remove_trait = courting
		}
		ai_chance = {
			factor = 1
		}
	}

	option = {
		# Just seal the deal
		name = EVTOPTAselfmarriage1001
		trigger = {
			is_married = no
			FROM = {
				is_married = no
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.11111
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 2
				trait = proud
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.5
				is_friend = FROM
			}
			modifier = {
				factor = 5
				is_lover = FROM
				FROM = {
					is_ruler = yes
				}
			}
			modifier = {
				factor = 0.1
				FROM = {
					NOT = {
						check_variable = {
							which = "courting_score"
							value = 4
						}
					}
				}
			}
		}
	}

	option = {
		# Spend money
		name = EVTOPTBselfmarriage1001
		trigger = {
			NOT = {
				FROM = {
					is_married = yes
				}
				NOT = {
					is_married = yes
				}
			}
			OR = {
				AND = {
					FROM = {
						is_ruler = no
					}
					wealth = 50
				}
				AND = {
					FROM = {
						OR = {
							tier = BARON
							father_even_if_dead = {
								tier = BARON
							}
							mother_even_if_dead = {
								tier = BARON
							}
						}
					}
					wealth = 100
				}
				AND = {
					FROM = {
						OR = {
							tier = COUNT
							father_even_if_dead = {
								tier = COUNT
							}
							mother_even_if_dead = {
								tier = COUNT
							}
						}
					}
					wealth = 150
				}
				AND = {
					FROM = {
						OR = {
							tier = DUKE
							father_even_if_dead = {
								tier = DUKE
							}
							mother_even_if_dead = {
								tier = DUKE
							}
						}
					}
					wealth = 300
				}
				AND = {
					FROM = {
						OR = {
							tier = KING
							father_even_if_dead = {
								tier = KING
							}
							mother_even_if_dead = {
								tier = KING
							}
						}
					}
					wealth = 450
				}
				AND = {
					FROM = {
						OR = {
							tier = EMPEROR
							father_even_if_dead = {
								tier = EMPEROR
							}
							mother_even_if_dead = {
								tier = EMPEROR
							}
						}
					}
					wealth = 750
				}

			}

		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.2 days = 50 random = 200
				}
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = EMPEROR
						father_even_if_dead = {
							tier = EMPEROR
						}
						mother_even_if_dead = {
							tier = EMPEROR
						}
					}
				}
			}
			wealth = -750
			break = yes
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = KING
						father_even_if_dead = {
							tier = KING
						}
						mother_even_if_dead = {
							tier = KING
						}
					}
				}
			}
			wealth = -450
			break = yes
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = DUKE
						father_even_if_dead = {
							tier = DUKE
						}
						mother_even_if_dead = {
							tier = DUKE
						}
					}
				}
			}
			wealth = -300
			break = yes
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = COUNT
						father_even_if_dead = {
							tier = COUNT
						}
						mother_even_if_dead = {
							tier = COUNT
						}
					}
				}
			}
			wealth = -150
			break = yes
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = BARON
						father_even_if_dead = {
							tier = BARON
						}
						mother_even_if_dead = {
							tier = BARON
						}
					}
				}
			}
			wealth = -100
			break = yes
		}
		wealth = -50
		ai_chance = {
			factor = 20
			modifier = {
				factor = 2
				trait = charitable
			}
			modifier = {
				factor = 0.5
				trait = greedy
			}
			modifier = {
				factor = 0
				check_variable = {
					which = "courting_score"
					value = 10
				}
			}
		}
	}

	option = {
		# Spend prestige
		name = EVTOPTCselfmarriage1001
		trigger = {
			NOT = {
				FROM = {
					is_married = yes
				}
			}
			NOT = {
				is_married = yes
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.3 days = 50 random = 200
				}
			}
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = EMPEROR
						father_even_if_dead = {
							tier = EMPEROR
						}
						mother_even_if_dead = {
							tier = EMPEROR
						}
					}
				}
			}
			prestige = -750
			break = yes
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = KING
						father_even_if_dead = {
							tier = KING
						}
						mother_even_if_dead = {
							tier = KING
						}
					}
				}
			}
			prestige = -450
			break = yes
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = DUKE
						father_even_if_dead = {
							tier = DUKE
						}
						mother_even_if_dead = {
							tier = DUKE
						}
					}
				}
			}
			prestige = -300
			break = yes
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = COUNT
						father_even_if_dead = {
							tier = COUNT
						}
						mother_even_if_dead = {
							tier = COUNT
						}
					}
				}
			}
			prestige = -150
			break = yes
		}
		if = {
			limit = {
				FROM = {
					OR = {
						tier = BARON
						father_even_if_dead = {
							tier = BARON
						}
						mother_even_if_dead = {
							tier = BARON
						}
					}
				}
			}
			prestige = -100
			break = yes
		}
		prestige = -50
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0.75
				trait = humble
			}
			modifier = {
				factor = 0.75
				trait = shy
			}
			modifier = {
				factor = 0
				NOT = {
					prestige = 100
				}
			}
			modifier = {
				factor = 0
				check_variable = {
					which = "courting_score"
					value = 10
				}
			}
		}
	}

	option = {
		# Try out something else
		name = EVTOPTDselfmarriage1001
		trigger = {
			NOT = {
				FROM = {
					is_married = yes
				}
				NOT = {
					is_married = yes
				}
			}
			OR = {
				trait = poet
				trait = asur_mage
				trait = seducer
				trait = seductress
				trait = hunter
				trait = falconer
				trait = gardener
				trait = socializer
				trait = hedonist
				trait = erudite
				trait = theologian
				trait = scholar
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1002
				}
			}
		} # Pingety ping
		ai_chance = {
			factor = 35
			modifier = {
				factor = 1.75
				trait = gregarious
			}
			modifier = {
				factor = 0
				check_variable = {
					which = "courting_score"
					value = 10
				}
			}
		}
	}
}

# Fiancee: pinging for more options
character_event = {
	id = selfmarriage.1002
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		FROM = {
			character_event = {
				id = selfmarriage.1003
			}
		}

	}
}

# Suitor: Engage Courtship - Part 2
character_event = {
	id = selfmarriage.1003
	desc = EVTDESCselfmarriage1003
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# Use poetry
		name = EVTOPTAselfmarriage1003
		trigger = {
			trait = poet
		}
		tooltip_info = poet
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.4 days = 50 random = 200
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}

	option = {
		# Use magic
		name = EVTOPTBselfmarriage1003
		trigger = {
			trait = asur_mage
		}
		tooltip_info = asur_mage
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.5 days = 50 random = 200
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}

	option = {
		# Use seduction
		name = EVTOPTCselfmarriage1003
		trigger = {
			OR = {
				trait = seducer
				trait = seductress
			}
		}
		tooltip_info = seducer
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.6 days = 50 random = 200
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.75
				trait = lustful
			}
			modifier = {
				factor = 1.75
				religion = cult_of_pleasure
			}
			modifier = {
				factor = 1.75
				society_member_of = cult_of_pleasure
			}

		}
	}

	option = {
		# Try out something else
		name = EVTOPTDselfmarriage1003
		trigger = {
			OR = {
				trait = hunter
				trait = falconer
				trait = gardener
				trait = socializer
				trait = hedonist
				trait = erudite
				trait = theologian
				trait = scholar
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1004
				}
			}
		} # Pingety ping
		ai_chance = {
			factor = 25
		}
	}
}

# Fiancee: pinging for more options
character_event = {
	id = selfmarriage.1004
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		FROM = {
			character_event = {
				id = selfmarriage.1005
			}
		}

	}
}

# Suitor: Engage Courtship - Part 3
character_event = {
	id = selfmarriage.1005
	desc = EVTDESCselfmarriage1005
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# Use trophies
		name = EVTOPTAselfmarriage1005
		trigger = {
			OR = {
				trait = hunter
				trait = falconer
			}
		}
		tooltip_info = hunter
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.7 days = 50 random = 200
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}

	option = {
		# Use flowers
		name = EVTOPTBselfmarriage1005
		trigger = {
			trait = gardener
		}
		tooltip_info = gardener
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.8 days = 50 random = 200
				}
			}
		}
		ai_chance = {
			factor = 25
		}
	}

	option = {
		# Use eccess
		name = EVTOPTCselfmarriage1005
		trigger = {
			OR = {
				trait = socializer
				trait = hedonist
			}
		}
		tooltip_info = hedonist
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.9 days = 50 random = 200
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.75
				trait = gluttonous
			}
			modifier = {
				factor = 1.75
				religion = cult_of_pleasure
			}
			modifier = {
				factor = 1.75
				society_member_of = cult_of_pleasure
			}
		}
	}

	option = {
		# Use books
		name = EVTOPTDselfmarriage1005
		trigger = {
			OR = {
				trait = scholar
				trait = erudite
				trait = theologian
			}
		}
		tooltip_info = scholar
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.10 days = 50 random = 200
				}
			}
		}
		ai_chance = {
			factor = 25
			modifier = {
				factor = 1.5
				trait = erudite
			}
			modifier = {
				factor = 1.75
				trait = shy
			}
			modifier = {
				factor = 1.75
				trait = chaste
			}
			modifier = {
				factor = 1.75
				trait = celibate
			}

		}
	}
}

# Fiancee: Generic ping-back
character_event = {
	id = selfmarriage.1006
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		FROM = {
			character_event = {
				id = selfmarriage.1001
			}
		}

	}
}

# Fiancee: You're being courted by money
character_event = {
	id = selfmarriage.2
	desc = EVTDESCselfmarriage2
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage2
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.2001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 1.75
				trait = greedy
			}
			modifier = {
				factor = 1.25
				trait = proud
			}
			modifier = {
				factor = 1.25
				trait = ambitious
			}
			modifier = {
				factor = 0.85
				trait = envious
			}
			modifier = {
				factor = 1.25
				NOT = {
					wealth = -200
				}
			}
			modifier = {
				factor = 1.25
				NOT = {
					wealth = -100
				}
			}
			modifier = {
				factor = 1.25
				NOT = {
					wealth = 0
				}
			}
			modifier = {
				factor = 1.25
				NOT = {
					wealth = 100
				}
			}
			modifier = {
				factor = 0.75
				culture_group = asrai_group
			}
			modifier = {
				factor = 0.75
				culture = nagarythi
			}
			modifier = {
				factor = 0.75
				culture = chracian
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage2
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.2002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Money worked
character_event = {
	id = selfmarriage.2001
	desc = EVTDESCselfmarriage2001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage2001
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			} # Pinging back
			change_variable = {
				which = "courting_score"
				value = 4
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Money didn't work
character_event = {
	id = selfmarriage.2002
	desc = EVTDESCselfmarriage2002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage2002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 50
				change_variable = {
					which = "courting_score"
					value = -2
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: You're being courted by prestige
character_event = {
	id = selfmarriage.3
	desc = EVTDESCselfmarriage3
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage3
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.3001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 1.75
				trait = proud
			}
			modifier = {
				factor = 1.5
				trait = ambitious
			}
			modifier = {
				factor = 0.75
				trait = paranoid
			}
			modifier = {
				factor = 0.85
				trait = humble
			}
			modifier = {
				factor = 0.95
				trait = shy
			}
			modifier = {
				factor = 1.5
				trait = gregarious
			}
			modifier = {
				factor = 1.75
				trait = socializer
			}
			modifier = {
				factor = 1.15
				trait = dim
			}
			modifier = {
				factor = 1.25
				trait = dumb
			}
			modifier = {
				factor = 1.35
				trait = slow
			}
			modifier = {
				factor = 1.45
				trait = idiot
			}
			modifier = {
				factor = 1.5
				trait = imbecile
			}
			modifier = {
				factor = 0.75
				culture_group = asrai_group
			}
			modifier = {
				factor = 1.25
				culture_group = asur_group
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage3
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.3002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Prestige worked
character_event = {
	id = selfmarriage.3001
	desc = EVTDESCselfmarriage3001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage3001
		hidden_tooltip = {
			change_variable = {
				which = "courting_score"
				value = 2
			}
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Prestige didn't work
character_event = {
	id = selfmarriage.3002
	desc = EVTDESCselfmarriage3002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage3002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 30
				change_variable = {
					which = "courting_score"
					value = -4
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: You're being courted by poetry
character_event = {
	id = selfmarriage.4
	desc = EVTDESCselfmarriage4
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage4
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.4001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		if = {
			limit = {
				NOT = {
					is_lover = FROM
				}
			}
			random = {
				chance = 15
				add_lover = FROM
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 1.75
				trait = poet
			}
			modifier = {
				factor = 1.5
				trait = scholar
			}
			modifier = {
				factor = 1.75
				trait = erudite
			}
			modifier = {
				factor = 1.5
				trait = shy
			}
			modifier = {
				factor = 0.75
				FROM = {
					trait = lisp
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = stutter
				}
			}
			modifier = {
				factor = 0.5
				is_ruler = yes
			}
			modifier = {
				factor = 0.5
				culture_group = druchi_group
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage4
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.4002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Poetry worked
character_event = {
	id = selfmarriage.4001
	desc = EVTDESCselfmarriage4001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage4001
		hidden_tooltip = {
			change_variable = {
				which = "courting_score"
				value = 3
			}
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Poetry didn't work
character_event = {
	id = selfmarriage.4002
	desc = EVTDESCselfmarriage4002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage4002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 30
				change_variable = {
					which = "courting_score"
					value = -1
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: You're being courted by magic
character_event = {
	id = selfmarriage.5
	desc = EVTDESCselfmarriage5
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage5
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.5001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		if = {
			limit = {
				NOT = {
					is_lover = FROM
				}
			}
			random = {
				chance = 25
				add_lover = FROM
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 1.75
				NOT = {
					trait = asur_mage
				}
			}
			modifier = {
				factor = 0.85
				trait = cynical
			}
			modifier = {
				factor = 0.85
				is_ruler = yes
			}
			modifier = {
				factor = 1.15
				trait = bright
			}
			modifier = {
				factor = 1.25
				trait = smart
			}
			modifier = {
				factor = 1.35
				trait = quick
			}
			modifier = {
				factor = 1.45
				trait = brilliant
			}
			modifier = {
				factor = 1.5
				trait = genius
			}
			modifier = {
				factor = 1.75
				has_character_modifier = magic_power_1
				FROM = {
					OR = {
						has_character_modifier = magic_power_2
						has_character_modifier = magic_power_3
						has_character_modifier = magic_power_4
					}
				}
			}
			modifier = {
				factor = 1.45
				has_character_modifier = magic_power_2
				FROM = {
					OR = {
						has_character_modifier = magic_power_3
						has_character_modifier = magic_power_4
					}
				}
			}
			modifier = {
				factor = 1.25
				has_character_modifier = magic_power_3
				FROM = {
					has_character_modifier = magic_power_4
				}
			}
			modifier = {
				factor = 0.95
				has_character_modifier = magic_power_4
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage5
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.5002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Magic worked
character_event = {
	id = selfmarriage.5001
	desc = EVTDESCselfmarriage5001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage5001
		hidden_tooltip = {
			change_variable = {
				which = "courting_score"
				value = 5
			}
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Magic didn't work
character_event = {
	id = selfmarriage.5002
	desc = EVTDESCselfmarriage5002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage5002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 10
				change_variable = {
					which = "courting_score"
					value = -2
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: You're being courted by seduction
character_event = {
	id = selfmarriage.6
	desc = EVTDESCselfmarriage6
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage6
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.6001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		if = {
			limit = {
				NOT = {
					is_lover = FROM
				}
			}
			random = {
				chance = 30
				add_lover = FROM
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 1.75
				trait = lustful
			}
			modifier = {
				factor = 1.5
				trait = gregarious
			}
			modifier = {
				factor = 1.75
				FROM = {
					trait = beautiful
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					trait = pretty
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = fair
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = plain
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					trait = ugly
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = unsightly
				}
			}
			modifier = {
				factor = 0.35
				FROM = {
					trait = monstrous
				}
			}
			modifier = {
				factor = 0.25
				FROM = {
					trait = burnt_by_asuryan
				}
			}
			modifier = {
				factor = 1.75
				religion = cult_of_pleasure
			}
			modifier = {
				factor = 1.75
				religion = atharti
			}
			modifier = {
				factor = 1.75
				society_member_of = cult_of_pleasure
			}
			modifier = {
				factor = 0.5
				is_ruler = yes
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage6
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.6002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Seduction worked
character_event = {
	id = selfmarriage.6001
	desc = EVTDESCselfmarriage6001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage6001
		hidden_tooltip = {
			change_variable = {
				which = "courting_score"
				value = 4
			}
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Seduction didn't work
character_event = {
	id = selfmarriage.6002
	desc = EVTDESCselfmarriage6002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage6002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 25
				change_variable = {
					which = "courting_score"
					value = -3
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: You're being courted by hunting
character_event = {
	id = selfmarriage.7
	desc = EVTDESCselfmarriage7
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage7
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.7001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		if = {
			limit = {
				NOT = {
					is_lover = FROM
				}
			}
			random = {
				chance = 30
				add_lover = FROM
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 1.5
				trait = cruel
			}
			modifier = {
				factor = 1.75
				trait = hunter
			}
			modifier = {
				factor = 1.75
				trait = falconer
			}
			modifier = {
				factor = 1.75
				trait = impaler
			}
			modifier = {
				factor = 0.75
				trait = kind
			}
			modifier = {
				factor = 1.75
				trait = craven
			}
			modifier = {
				factor = 1.25
				trait = brave
			}
			modifier = {
				factor = 1.5
				trait = misguided_warrior
			}
			modifier = {
				factor = 1.35
				trait = tough_soldier
			}
			modifier = {
				factor = 1.25
				trait = skilled_tactician
			}
			modifier = {
				factor = 1.15
				trait = brilliant_strategist
			}
			modifier = {
				factor = 0.5
				is_ruler = yes
			}
			modifier = {
				factor = 1.5
				culture_group = asrai_group
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage7
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.7002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Hunting worked
character_event = {
	id = selfmarriage.7001
	desc = EVTDESCselfmarriage7001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage7001
		hidden_tooltip = {
			change_variable = {
				which = "courting_score"
				value = 2
			}
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Hunting didn't work
character_event = {
	id = selfmarriage.7002
	desc = EVTDESCselfmarriage7002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage7002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 80
				change_variable = {
					which = "courting_score"
					value = -1
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: You're being courted by gardener
character_event = {
	id = selfmarriage.8
	desc = EVTDESCselfmarriage8
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage8
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.8001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		if = {
			limit = {
				NOT = {
					is_lover = FROM
				}
			}
			random = {
				chance = 15
				add_lover = FROM
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 1.5
				trait = kind
			}
			modifier = {
				factor = 1.5
				trait = humble
			}
			modifier = {
				factor = 1.5
				trait = shy
			}
			modifier = {
				factor = 0.75
				trait = greedy
			}
			modifier = {
				factor = 0.75
				trait = socializer
			}
			modifier = {
				factor = 0.75
				trait = gregarious
			}
			modifier = {
				factor = 0.75
				trait = hedonist
			}
			modifier = {
				factor = 0.5
				is_ruler = yes
			}
			modifier = {
				factor = 1.5
				culture_group = asrai_group
			}
			modifier = {
				factor = 0.5
				culture_group = druchi_group
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage8
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.8002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Gardener worked
character_event = {
	id = selfmarriage.8001
	desc = EVTDESCselfmarriage8001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage8001
		hidden_tooltip = {
			change_variable = {
				which = "courting_score"
				value = 1
			}
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Gardener didn't work
character_event = {
	id = selfmarriage.8002
	desc = EVTDESCselfmarriage8002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage8002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 30
				change_variable = {
					which = "courting_score"
					value = -1
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: You're being courted by Hedonist
character_event = {
	id = selfmarriage.9
	desc = EVTDESCselfmarriage9
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage9
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.9001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		if = {
			limit = {
				NOT = {
					is_lover = FROM
				}
			}
			random = {
				chance = 20
				add_lover = FROM
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 1.5
				trait = lustful
			}
			modifier = {
				factor = 1.5
				trait = socializer
			}
			modifier = {
				factor = 1.5
				trait = gregarious
			}
			modifier = {
				factor = 1.5
				trait = drunkard
			}
			modifier = {
				factor = 1.5
				trait = addict
			}
			modifier = {
				factor = 1.75
				trait = hedonist
			}
			modifier = {
				factor = 1.75
				religion = cult_of_pleasure
			}
			modifier = {
				factor = 1.75
				religion = atharti
			}
			modifier = {
				factor = 0.5
				trait = celibate
			}
			modifier = {
				factor = 0.75
				trait = shy
			}
			modifier = {
				factor = 0.65
				trait = paranoid
			}
			modifier = {
				factor = 0.5
				trait = temperate
			}
			modifier = {
				factor = 0.5
				is_ruler = yes
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage9
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.9002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Hedonist worked
character_event = {
	id = selfmarriage.9001
	desc = EVTDESCselfmarriage9001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage9001
		hidden_tooltip = {
			change_variable = {
				which = "courting_score"
				value = 2
			}
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Hedonist didn't work
character_event = {
	id = selfmarriage.9002
	desc = EVTDESCselfmarriage9002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage9002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 50
				change_variable = {
					which = "courting_score"
					value = -2
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: You're being courted by Scholar
character_event = {
	id = selfmarriage.10
	desc = EVTDESCselfmarriage10
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# I like this
		name = EVTOPTAselfmarriage10
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.10001
				}
			}
		}
		if = {
			limit = {
				NOT = {
					trait = courting
				}
			}
			add_trait = courting
		}
		if = {
			limit = {
				NOT = {
					is_friend = FROM
				}
			}
			random = {
				chance = 25
				add_friend = FROM
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 1.5
				trait = trusting
			}
			modifier = {
				factor = 2
				is_lover = FROM
			}
			modifier = {
				factor = 1.75
				is_friend = FROM
			}
			modifier = {
				factor = 0.35
				is_rival = FROM
			}
			modifier = {
				factor = 0.75
				trait = lustful
			}
			modifier = {
				factor = 0.5
				trait = hedonist
			}
			modifier = {
				factor = 1.75
				trait = celibate
			}
			modifier = {
				factor = 1.75
				trait = erudite
			}
			modifier = {
				factor = 1.5
				trait = poet
			}
			modifier = {
				factor = 1.5
				trait = theologian
			}
			modifier = {
				factor = 0.75
				trait = slothful
			}
			modifier = {
				factor = 0.95
				trait = dim
			}
			modifier = {
				factor = 0.85
				trait = dumb
			}
			modifier = {
				factor = 0.75
				trait = slow
			}
			modifier = {
				factor = 0.5
				trait = idiot
			}
			modifier = {
				factor = 0.35
				trait = imbecile
			}
			modifier = {
				factor = 1.25
				trait = bright
				FROM = {
					NOR = {
						trait = dim
						trait = dumb
						trait = slow
						trait = idiot
						trait = imbecile
					}
				}
			}
			modifier = {
				factor = 1.35
				trait = smart
				FROM = {
					NOR = {
						trait = dim
						trait = dumb
						trait = slow
						trait = idiot
						trait = imbecile
					}
				}
			}
			modifier = {
				factor = 1.45
				trait = quick
				FROM = {
					NOR = {
						trait = dim
						trait = dumb
						trait = slow
						trait = idiot
						trait = imbecile
					}
				}
			}
			modifier = {
				factor = 1.5
				trait = brilliant
				FROM = {
					NOR = {
						trait = dim
						trait = dumb
						trait = slow
						trait = idiot
						trait = imbecile
					}
				}
			}
			modifier = {
				factor = 1.75
				trait = genius
				FROM = {
					NOR = {
						trait = dim
						trait = dumb
						trait = slow
						trait = idiot
						trait = imbecile
					}
				}
			}
			modifier = {
				factor = 0.5
				is_ruler = yes
			}
			modifier = {
				factor = 0.75
				culture_group = asrai_group
			}
		}
	}

	option = {
		# Not really interested
		name = EVTOPTBselfmarriage10
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.10002
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor: Scholar worked
character_event = {
	id = selfmarriage.10001
	desc = EVTDESCselfmarriage10001
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage10001
		hidden_tooltip = {
			change_variable = {
				which = "courting_score"
				value = 2
			}
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor: Scholar didn't work
character_event = {
	id = selfmarriage.10002
	desc = EVTDESCselfmarriage10002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage10002
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.1006
				}
			}
		} # Pinging back
		hidden_tooltip = {
			random = {
				chance = 40
				change_variable = {
					which = "courting_score"
					value = -1
				}

			}
			if = {
				limit = {
					check_variable = {
						which = "courting_score"
						value = 0
					}
				}
				FROM = {
					remove_trait = courting
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Fiancee: Ping to choose what kind of marriage are you proposing
character_event = {
	id = selfmarriage.11111
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		FROM = {
			character_event = {
				id = selfmarriage.11112
			}
		}
	}
}

# Suitor: Choose what kind of marriage are you proposing
character_event = {
	id = selfmarriage.11112
	desc = EVTDESCselfmarriage11112
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# Regular
		name = EVTOPTAselfmarriage11112
		hidden_tooltip = {
			if = {
				limit = {
					FROM = {
						is_ruler = no
					}
				}
				FROM = {
					character_event = {
						id = selfmarriage.11
					}
				}
			}
			if = {
				limit = {
					FROM = {
						is_ruler = yes
					}
				}
				FROM = {
					character_event = {
						id = selfmarriage.12
					}
				}
			}

		}
		ai_chance = {
			factor = 70
			modifier = {
				factor = 0.5
				higher_tier_than = FROM
				is_female = yes
			}
			modifier = {
				factor = 0.5
				trait = ambitious
				is_female = yes
			}
			modifier = {
				factor = 0
				FROM = {
					is_ruler = no
					liege = {
						character = ROOT
					}
				}
				is_female = yes
			}
		}
	}

	option = {
		# Matrilineal
		name = EVTOPTBselfmarriage11112
		set_character_flag = asking_for_matrilineal
		hidden_tooltip = {
			if = {
				limit = {
					FROM = {
						is_ruler = no
					}
				}
				FROM = {
					character_event = {
						id = selfmarriage.11
					}
				}
			}
			if = {
				limit = {
					FROM = {
						is_ruler = yes
					}
				}
				FROM = {
					character_event = {
						id = selfmarriage.12
					}
				}
			}

		}
		ai_chance = {
			factor = 30
			modifier = {
				factor = 0.5
				higher_tier_than = FROM
				is_female = no
			}
			modifier = {
				factor = 0.5
				trait = ambitious
				is_female = no
			}
			modifier = {
				factor = 0
				FROM = {
					is_ruler = no
					liege = {
						character = ROOT
					}
				}
				is_female = no
			}

		}
	}
}

# Fiancee unlanded: The suitor is attempting to seal the deal
character_event = {
	id = selfmarriage.11
	desc = {
		text = EVTDESCAselfmarriage11
		trigger = {
			FROM = {
				NOR = {
					check_variable = {
						which = "courting_score"
						value = 1
					}
					is_lover = ROOT
				}
				has_character_flag = asking_for_matrilineal
			}
		}
	}
	desc = {
		text = EVTDESCBselfmarriage11
		trigger = {
			FROM = {
				OR = {
					check_variable = {
						which = "courting_score"
						value = 1
					}
					is_lover = ROOT
				}
				has_character_flag = asking_for_matrilineal
			}
		}
	}
	desc = {
		text = EVTDESCCselfmarriage11
		trigger = {
			FROM = {
				NOR = {
					check_variable = {
						which = "courting_score"
						value = 1
					}
					is_lover = ROOT
				}
				NOT = {
					has_character_flag = asking_for_matrilineal
				}
			}
		}
	}
	desc = {
		text = EVTDESCDselfmarriage11
		trigger = {
			FROM = {
				OR = {
					check_variable = {
						which = "courting_score"
						value = 1
					}
					is_lover = ROOT
				}
				NOT = {
					has_character_flag = asking_for_matrilineal
				}
			}
		}
	}
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage11
		trigger = {
			NOT = {
				liege = {
					character = FROM
				}
			}
		}
		set_character_flag = landless_fiancee_flag
		# 	hidden_tooltip = { 	FROM = { save_event_target_as = suitor }
		# 				ROOT = { save_event_target_as = fiancee }
		# 				liege = { save_event_target_as = fiancee_guardian } }
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = selfmarriage.11002
				}
			}
		} # Ping back to suitor first
		ai_chance = {
			factor = 1
		}
	}

	option = {
		# If liege is suitor, marriage with a courtier is certain
		name = EVTOPTBselfmarriage11
		trigger = {
			liege = {
				character = FROM
			}
		}
		hidden_tooltip = {
			liege = {
				character_event = {
					id = selfmarriage.11001
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# You are the liege of your unlanded fiancee, just marry already - End of line
character_event = {
	id = selfmarriage.11001
	desc = EVTDESCAselfmarriage11001
	picture = GFX_evt_elf_marriage
	is_triggered_only = yes

	option = {
		name = EVTOPTAselfmarriage11001
		hidden_tooltip = {
			character_event = {
				id = sdivorce.1001 days = 1
			}
			FROM = {
				remove_trait = courting
				remove_trait = elven_maiden
				remove_trait = elven_scion
				set_variable = {
					which = "courting_score"
					value = 0
				}
			}
			remove_trait = courting
			remove_trait = elven_maiden
			remove_trait = elven_scion
			set_variable = {
				which = "courting_score"
				value = 0
			}
		}
		if = {
			limit = {
				has_character_flag = asking_for_matrilineal
			}
			add_spouse_matrilineal = FROM
		}
		if = {
			limit = {
				NOT = {
					has_character_flag = asking_for_matrilineal
				}
			}
			add_spouse = FROM
		}
		clr_character_flag = asking_for_matrilineal
		clr_character_flag = landless_fiancee_flag
		FROM = {
			clr_character_flag = asking_for_matrilineal
			clr_character_flag = landless_fiancee_flag
		}
		hidden_tooltip = {
			if = {
				limit = {
					culture_group = asur_group
				}
				long_character_event = {
					id = selfmarriage.13 days = 2
				}
			}
			if = {
				limit = {
					culture_group = druchi_group
				}
				long_character_event = {
					id = selfmarriage.13001 days = 2
				}
			}
			if = {
				limit = {
					culture_group = asrai_group
				}
				long_character_event = {
					id = selfmarriage.13002 days = 2
				}
			}

		}
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor ping to set all the scopes well
character_event = {
	id = selfmarriage.11002
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		FROM = {
			liege = {
				character_event = {
					id = selfmarriage.12
				}
			}
		}
	}
}

# Liege of fiancee (or landed fiancee) makes the final decision.

# ROOT = liege of fiance/landed fiancee

# FROM = suitor

# FROMFROM = fiancee (landed or else)
character_event = {
	id = selfmarriage.12
	desc = {
		text = EVTDESCAselfmarriage12
		trigger = {
			FROMFROM = {
				has_character_flag = landless_fiancee_flag
			}
			FROM = {
				has_character_flag = asking_for_matrilineal
			}
		}
	}
	desc = {
		text = EVTDESCBselfmarriage12
		trigger = {
			FROMFROM = {
				NOT = {
					has_character_flag = landless_fiancee_flag
				}
			}
			FROM = {
				has_character_flag = asking_for_matrilineal
			}
		}
	}
	desc = {
		text = EVTDESCCselfmarriage12
		trigger = {
			FROMFROM = {
				has_character_flag = landless_fiancee_flag
			}
			FROM = {
				NOT = {
					has_character_flag = asking_for_matrilineal
				}
			}
		}
	}
	desc = {
		text = EVTDESCDselfmarriage12
		trigger = {
			FROMFROM = {
				NOT = {
					has_character_flag = landless_fiancee_flag
				}
			}
			FROM = {
				NOT = {
					has_character_flag = asking_for_matrilineal
				}
			}
		}
	}
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		# Accept the union
		name = EVTOPTAselfmarriage12
		hidden_tooltip = {
			character_event = {
				id = sdivorce.1001 days = 1
			}
			FROM = {
				character_event = {
					id = selfmarriage.12001
				} # Happy marriage event
				# remove_trait = courting # Removed later to prevent exploit
				remove_trait = elven_maiden
				remove_trait = elven_scion
				set_variable = {
					which = "courting_score"
					value = 0
				}
			}
			FROMFROM = {
				remove_trait = courting
				remove_trait = elven_maiden
				remove_trait = elven_scion
				set_variable = {
					which = "courting_score"
					value = 0
				}
			}
		}
		ai_chance = {
			factor = 50
			# You better not screw this up, AI.
			modifier = {
				factor = 0.5
				FROMFROM = {
					NOT = {
						religion = FROM
					}
				}
			}
			modifier = {
				factor = 0
				FROMFROM = {
					NOT = {
						religion = FROM
					}
					trait = malekith
				}
			}
			modifier = {
				factor = 0.65
				FROM = {
					has_character_flag = asking_for_matrilineal
				}
				FROMFROM = {
					is_female = no
					is_close_relative = ROOT
				}
			}
			modifier = {
				factor = 0.65
				FROM = {
					has_character_flag = asking_for_matrilineal
				}
				FROMFROM = {
					is_female = no
					higher_tier_than = FROM
					is_close_relative = ROOT
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					has_character_flag = asking_for_matrilineal
				}
				FROMFROM = {
					is_female = no
					is_close_relative = ROOT
				}
				higher_tier_than = FROM
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 1
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 2
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 3
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 4
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 5
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 6
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 7
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 8
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 9
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 10
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 11
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 12
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 13
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 14
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 15
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 1
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 2
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 3
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 4
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 5
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 6
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 7
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 8
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 9
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 10
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 11
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 12
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 13
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 14
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					check_variable = {
						which = "courting_score"
						value = 15
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.45
				NOR = {
					FROM = {
						higher_tier_than = DUKE
					}
					FROM = {
						father_even_if_dead = {
							higher_tier_than = DUKE
						}
					}
					FROM = {
						mother_even_if_dead = {
							higher_tier_than = DUKE
						}
					}
				}
				FROMFROM = {
					OR = {
						trait = phoenix_king
						father_even_if_dead = {
							trait = phoenix_king
						}
						mother_even_if_dead = {
							trait = phoenix_king
						}
					}
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = infertile
				}
			}
			modifier = {
				# Provincial scum
				factor = 0.75
				FROM = {
					NOT = {
						capital_scope = {
							empire = {
								title = e_ulthuan
							}
						}
					}
				}
				capital_scope = {
					empire = {
						title = e_ulthuan
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					NOT = {
						age = 30
					}
				}
				FROMFROM = {
					NOT = {
						age = 30
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					age = 30
				}
				FROMFROM = {
					age = 30
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					father = {
						current_heir = {
							character = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					mother = {
						current_heir = {
							character = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					num_of_children = 2
				}
			}
			modifier = {
				factor = 0.95
				FROM = {
					NOT = {
						piety = 0
					}
				}
			}
			modifier = {
				factor = 0.65
				FROM = {
					NOT = {
						prestige = 0
					}
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					prestige = 100
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					prestige = 300
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					prestige = 500
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					prestige = 700
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					prestige = 900
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					NOT = {
						wealth = 0
					}
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					NOT = {
						wealth = 150
					}
				}
			}
			modifier = {
				factor = 0.95
				FROM = {
					NOT = {
						wealth = 250
					}
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					wealth = 150
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					wealth = 250
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					wealth = 500
				}
			}
			modifier = {
				factor = 1.25
				dynasty = FROM
			}
			modifier = {
				factor = 0.45
				FROM = {
					trait = infertile
				}
			}
			modifier = {
				factor = 0
				FROM = {
					OR = {
						father = {
							character = ROOT
						}
					 	mother = {
							character = ROOT
						}
					}
				}
			}
			modifier = {
				factor = 0.65
				is_close_relative = FROM
			}
			modifier = {
				factor = 0.85
				NOT = {
					culture = FROM
				}
			}
			modifier = {
				# Safeguard the Princedoms' integrity
				factor = 0.5
				culture = FROMFROM
				FROMFROM = {
					NOT = {
						culture = FROM
					}
					OR = {
						higher_tier_than = DUKE
						father_even_if_dead = {
							higher_tier_than = DUKE
						}
						mother_even_if_dead = {
							higher_tier_than = DUKE
						}
					}
				}
				OR = {
					FROM = {
						higher_tier_than = DUKE
					}
					FROM = {
						father_even_if_dead = {
							higher_tier_than = DUKE
						}
					}
					FROM = {
						mother_even_if_dead = {
							higher_tier_than = DUKE
						}
					}
				}
			}
			modifier = {
				factor = 1.85
				FROMFROM = {
					OR = {
						tier = BARON
						father_even_if_dead = {
							tier = BARON
						}
						mother_even_if_dead = {
							tier = BARON
						}
					}
				}
				OR = {
					FROM = {
						tier = BARON
					}
					FROM = {
						father_even_if_dead = {
							tier = BARON
						}
					}
					FROM = {
						mother_even_if_dead = {
							tier = BARON
						}
					}
				}
			}
			modifier = {
				factor = 1.85
				FROMFROM = {
					OR = {
						tier = COUNT
						father_even_if_dead = {
							tier = COUNT
						}
						mother_even_if_dead = {
							tier = COUNT
						}
					}
				}
				OR = {
					FROM = {
						tier = COUNT
					}
					FROM = {
						father_even_if_dead = {
							tier = COUNT
						}
					}
					FROM = {
						mother_even_if_dead = {
							tier = COUNT
						}
					}
				}
			}
			modifier = {
				factor = 1.85
				FROMFROM = {
					OR = {
						tier = DUKE
						father_even_if_dead = {
							tier = DUKE
						}
						mother_even_if_dead = {
							tier = DUKE
						}
					}
				}
				OR = {
					FROM = {
						tier = DUKE
					}
					FROM = {
						father_even_if_dead = {
							tier = DUKE
						}
					}
					FROM = {
						mother_even_if_dead = {
							tier = DUKE
						}
					}
				}
			}
			modifier = {
				factor = 1.85
				FROMFROM = {
					OR = {
						tier = KING
						father_even_if_dead = {
							tier = KING
						}
						mother_even_if_dead = {
							tier = KING
						}
					}
				}
				OR = {
					FROM = {
						tier = KING
					}
					FROM = {
						father_even_if_dead = {
							tier = KING
						}
					}
					FROM = {
						mother_even_if_dead = {
							tier = KING
						}
					}
				}
			}
			modifier = {
				factor = 1.85
				FROMFROM = {
					OR = {
						tier = EMPEROR
						father_even_if_dead = {
							tier = EMPEROR
						}
						mother_even_if_dead = {
							tier = EMPEROR
						}
					}
				}
				OR = {
					FROM = {
						tier = EMPEROR
					}
					FROM = {
						father_even_if_dead = {
							tier = EMPEROR
						}
					}
					FROM = {
						mother_even_if_dead = {
							tier = EMPEROR
						}
					}
				}
			}
			modifier = {
				factor = 0.25
				FROM = {
					is_ruler = yes
				}
				ROOT = {
					is_ruler = no
					father_even_if_dead = {
						is_ruler = no
					}
					mother_even_if_dead = {
						is_ruler = no
					}
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					higher_tier_than = COUNT
				}
				ROOT = {
					is_ruler = yes
					lower_tier_than = DUKE
					father_even_if_dead = {
						lower_tier_than = DUKE
					}
					mother_even_if_dead = {
						lower_tier_than = DUKE
					}
				}
			}
			# Sentimental reasons
			modifier = {
				factor = 0.75
				FROMFROM = {
					trait = homosexual
					character = ROOT
				}
			}
			modifier = {
				factor = 4
				is_lover = FROM
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.25
				is_lover = FROM
				FROMFROM = {
					NOT = {
						character = ROOT
					}
				}
			}
			modifier = {
				factor = 0.85
				FROMFROM = {
					character = ROOT
				}
				NOT = {
					is_lover = FROM
				}
				has_lover = yes
			}
			modifier = {
				factor = 2.5
				is_friend = FROM
			}
			modifier = {
				factor = 0.25
				is_rival = FROM
			}
			modifier = {
				factor = 1.5
				FROM = {
					NOR = {
						trait = magic_potential_1
						trait = magic_potential_2
						trait = magic_potential_3
						trait = magic_potential_4
					}
				}
				OR = {
					trait = magic_potential_1
					trait = magic_potential_2
					trait = magic_potential_3
					trait = magic_potential_4
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					OR = {
						trait = amateurish_plotter
						trait = flamboyant_schemer
						trait = intricate_webweaver
						trait = elusive_shadow
					}
				}
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					OR = {
						trait = naive_appeaser
						trait = underhanded_rogue
						trait = charismatic_negotiator
						trait = grey_eminence
					}
				}
				OR = {
					trait = naive_appeaser
					trait = underhanded_rogue
					trait = charismatic_negotiator
					trait = grey_eminence
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					OR = {
						trait = indulgent_wastrel
						trait = thrifty_clerk
						trait = fortune_builder
						trait = midas_touched
					}
				}
				OR = {
					trait = indulgent_wastrel
					trait = thrifty_clerk
					trait = fortune_builder
					trait = midas_touched
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					OR = {
						trait = misguided_warrior
						trait = tough_soldier
						trait = skilled_tactician
						trait = brilliant_strategist
					}
				}
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					OR = {
						trait = detached_priest
						trait = martial_cleric
						trait = scholarly_theologian
						trait = mastermind_theologian
					}
				}
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = haughty
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					trait = stressed
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					trait = depressed
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					trait = lunatic_1
				}
			}
			modifier = {
				factor = 0.8
				FROM = {
					trait = lunatic_2
				}
			}
			modifier = {
				factor = 0.7
				FROM = {
					trait = lunatic_3
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					trait = ill
				}
			}
			modifier = {
				factor = 0.8
				FROM = {
					trait = pneumonic
				}
			}
			modifier = {
				factor = 0.7
				FROM = {
					trait = syphilitic
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					is_ill = yes
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					trait = scarred
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					trait = clubfooted
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.8
				FROM = {
					trait = harelip
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.7
				FROM = {
					trait = hunchback
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					trait = lisp
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.9
				FROM = {
					trait = stutter
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.6
				FROM = {
					trait = dwarf
				}
			}
			modifier = {
				factor = 1.5
				trait = asur_mage
				FROM = {
					trait = asur_mage
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = socializer
				FROM = {
					trait = socializer
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = gamer
				FROM = {
					trait = gamer
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = hedonist
				FROM = {
					trait = hedonist
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = duelist
				FROM = {
					trait = duelist
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = hunter
				FROM = {
					trait = hunter
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = strategist
				FROM = {
					trait = strategist
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = administrator
				FROM = {
					trait = administrator
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = architect
				FROM = {
					trait = architect
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = gardener
				FROM = {
					trait = gardener
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = schemer
				FROM = {
					trait = schemer
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = impaler
				FROM = {
					trait = impaler
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					trait = impaler
				}
				NOR = {
					trait = impaler
					trait = cruel
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				trait = seducer
				FROM = {
					trait = seductress
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				trait = seductress
				FROM = {
					trait = seducer
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = scholar
				FROM = {
					trait = scholar
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = theologian
				FROM = {
					trait = theologian
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = mystic
				FROM = {
					trait = mystic
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				trait = celibate
				FROM = {
					trait = celibate
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.75
				trait = celibate
				FROM = {
					NOT = {
						trait = celibate
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.75
				NOT = {
					trait = celibate
				}
				FROM = {
					trait = celibate
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = poet
				FROM = {
					trait = poet
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = falconer
				FROM = {
					trait = falconer
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = chaste
				FROM = {
					trait = chaste
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = lustful
				FROM = {
					trait = lustful
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = lustful
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				trait = lustful
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = temperate
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = gluttonous
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = charitable
				}
				FROMFROM = {
					NOT = {
						trait = greedy
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					trait = kind
				}
				FROM = {
					NOT = {
						trait = cruel
					}
					culture_group = asur_group
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = wroth
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = envious
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = humble
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = proud
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = deceitful
				}
				FROMFROM = {
					NOT = {
						trait = deceitful
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = honest
				}
				FROMFROM = {
					NOT = {
						trait = deceitful
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = craven
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = brave
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					trait = shy
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.95
				trait = shy
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					trait = content
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				trait = arbitrary
				FROMFROM = {
					NOT = {
						trait = arbitrary
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = just
				FROMFROM = {
					NOT = {
						trait = arbitrary
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				trait = cynical
				FROMFROM = {
					NOT = {
						trait = cynical
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				trait = zealous
				FROMFROM = {
					NOT = {
						trait = cynical
					}
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.95
				FROM = {
					trait = paranoid
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = trusting
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					trait = gregarious
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.95
				FROM = {
					trait = ambitious
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					trait = diligent
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = patient
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.95
				FROM = {
					trait = slothful
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROMFROM = {
					character = ROOT
				}
				FROM = {
					trait = cruel
				}
				NOR = {
					trait = cruel
					trait = impaler
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					trait = erudite
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					trait = stubborn
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = fat
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					trait = undernourished
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = blinded
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.65
				FROM = {
					trait = disfigured
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					has_artifact = black_dragon_mount
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					has_artifact = blue_dragon_mount
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					has_artifact = gold_dragon_mount
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					has_artifact = red_dragon_mount
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					has_artifact = white_dragon_mount
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = burnt_by_asuryan
				}
			}
			modifier = {
				factor = 0
				FROM = {
					trait = burnt_by_asuryan
				}
				FROMFROM = {
					culture_group = asur_group
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					trait = asuryan_stain
				}
				FROMFROM = {
					culture_group = asur_group
				}
			}
			modifier = {
				factor = 0.15
				culture_group = druchi_group
				FROM = {
					culture_group = asur_group
				}
			}
			modifier = {
				factor = 0.5
				culture_group = asrai_group
				FROM = {
					culture_group = asur_group
				}
			}
			modifier = {
				factor = 0.85
				FROMFROM = {
					trait = interventionist_elf
				}
				FROM = {
					trait = isolationist_elf
				}
			}
			modifier = {
				factor = 0.85
				FROMFROM = {
					trait = isolationist_elf
				}
				FROM = {
					trait = interventionist_elf
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = mutation_minor
				}
			}
			modifier = {
				factor = 0.25
				FROM = {
					trait = mutation_major
				}
			}
			modifier = {
				factor = 0
				FROM = {
					trait = mutation_massive
				}
			}
			modifier = {
				factor = 0
				FROMFROM = {
					trait = avatar_isha
				}
				FROM = {
					NOT = {
						trait = avatar_kurnous
					}
				}
			}
			modifier = {
				factor = 0
				FROMFROM = {
					trait = avatar_kurnous
				}
				FROM = {
					NOT = {
						trait = avatar_isha
					}
				}
			}
			modifier = {
				factor = 10
				FROMFROM = {
					trait = avatar_kurnous
				}
				FROM = {
					trait = avatar_isha
				}
			}
			modifier = {
				factor = 10
				FROMFROM = {
					trait = avatar_isha
				}
				FROM = {
					trait = avatar_kurnous
				}
			}
			modifier = {
				factor = 2
				FROMFROM = {
					trait = asrai_spellsinger
				}
				FROM = {
					trait = asrai_spellsinger
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = hollowed
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.75
				trait = druchi_black_guard
				FROM = {
					culture_group = druchi_group
				}
			}
			modifier = {
				factor = 1.35
				trait = elven_maiden
				FROM = {
					trait = elven_scion
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				trait = elven_scion
				FROM = {
					trait = elven_maiden
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					trait = bright
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = smart
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					trait = quick
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.45
				FROM = {
					trait = brilliant
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					trait = genius
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.95
				FROM = {
					trait = dim
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = dumb
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					trait = slow
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.65
				FROM = {
					trait = idiot
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = imbecile
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					trait = strong
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = tough
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.95
				FROM = {
					trait = hardy
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.85
				FROM = {
					trait = robust
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.15
				FROM = {
					trait = soft
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = fragile
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.35
				FROM = {
					trait = weak
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.75
				FROM = {
					trait = beautiful
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.5
				FROM = {
					trait = pretty
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = fair
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.75
				FROM = {
					trait = plain
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.65
				FROM = {
					trait = ugly
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.5
				FROM = {
					trait = unsightly
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.45
				FROM = {
					trait = monstrous
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 1.25
				FROM = {
					trait = tall
				}
				FROMFROM = {
					character = ROOT
				}
			}
			modifier = {
				factor = 0.75
				NOT = {
					opinion = {
						who = FROM
						value = -100
					}
				}
			}
			modifier = {
				factor = 0.85
				NOT = {
					opinion = {
						who = FROM
						value = -80
					}
				}
			}
			modifier = {
				factor = 0.85
				NOT = {
					opinion = {
						who = FROM
						value = -60
					}
				}
			}
			modifier = {
				factor = 0.85
				NOT = {
					opinion = {
						who = FROM
						value = -40
					}
				}
			}
			modifier = {
				factor = 0.85
				NOT = {
					opinion = {
						who = FROM
						value = -20
					}
				}
			}
			modifier = {
				factor = 0.85
				NOT = {
					opinion = {
						who = FROM
						value = 0
					}
				}
			}
			modifier = {
				factor = 1.25
				opinion = {
					who = FROM
					value = 20
				}
			}
			modifier = {
				factor = 1.25
				opinion = {
					who = FROM
					value = 40
				}
			}
			modifier = {
				factor = 1.25
				opinion = {
					who = FROM
					value = 60
				}
			}
			modifier = {
				factor = 1.25
				opinion = {
					who = FROM
					value = 80
				}
			}
			modifier = {
				factor = 1.25
				opinion = {
					who = FROM
					value = 100
				}
			}

		}
	}

	option = {
		# Refuse the union
		name = EVTOPTBselfmarriage12
		FROM = {
			character_event = {
				id = selfmarriage.12002
			}
		} # It was all for nothing
		hidden_tooltip = {
			FROM = {
				remove_trait = courting
				remove_trait = elven_maiden
				remove_trait = elven_scion
				set_variable = {
					which = "courting_score"
					value = 0
				}
			}
			FROMFROM = {
				remove_trait = courting
				remove_trait = elven_maiden
				remove_trait = elven_scion
				set_variable = {
					which = "courting_score"
					value = 0
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Suitor - The dream came through - End of line
character_event = {
	id = selfmarriage.12001
	desc = EVTDESCAselfmarriage12001
	picture = GFX_evt_elf_marriage
	is_triggered_only = yes

	option = {
		name = EVTOPTBselfmarriage12001
		remove_trait = courting
		if = {
			limit = {
				ROOT = {
					has_character_flag = asking_for_matrilineal
				}
			}
			FROMFROMFROM = {
				add_spouse_matrilineal = ROOT
			}
		}
		if = {
			limit = {
				NOT = {
					ROOT = {
						has_character_flag = asking_for_matrilineal
					}
				}
			}
			FROMFROMFROM = {
				add_spouse = ROOT
			}
		}
		hidden_tooltip = {
			if = {
				limit = {
					culture_group = asur_group
				}
				long_character_event = {
					id = selfmarriage.13 days = 2
				}
			}
			if = {
				limit = {
					culture_group = druchi_group
				}
				long_character_event = {
					id = selfmarriage.13001 days = 2
				}
			}
			if = {
				limit = {
					culture_group = asrai_group
				}
				long_character_event = {
					id = selfmarriage.13002 days = 2
				}
			}

		}
		hidden_tooltip = {
			FROMFROMFROM = {
				if = {
					limit = {
						culture_group = asur_group
					}
					long_character_event = {
						id = selfmarriage.13 days = 2
					}
				}
				if = {
					limit = {
						culture_group = druchi_group
					}
					long_character_event = {
						id = selfmarriage.13001 days = 2
					}
				}
				if = {
					limit = {
						culture_group = asrai_group
					}
					long_character_event = {
						id = selfmarriage.13002 days = 2
					}
				}

			}

		}
		if = {
			limit = {
				FROMFROMFROM = {
					OR = {
						tier = EMPEROR
						father = {
							tier = EMPEROR
						}
						mother = {
							tier = EMPEROR
						}
					}
				}
			}
			prestige = 400
		}
		if = {
			limit = {
				FROMFROMFROM = {
					OR = {
						tier = KING
						father = {
							tier = KING
						}
						mother = {
							tier = KING
						}
					}
				}
			}
			prestige = 300
		}
		if = {
			limit = {
				FROMFROMFROM = {
					OR = {
						tier = DUKE
						father = {
							tier = DUKE
						}
						mother = {
							tier = DUKE
						}
					}
				}
			}
			prestige = 200
		}
		if = {
			limit = {
				FROMFROMFROM = {
					OR = {
						tier = COUNT
						father = {
							tier = COUNT
						}
						mother = {
							tier = COUNT
						}
					}
				}
			}
			prestige = 100
		}
		if = {
			limit = {
				FROMFROMFROM = {
					OR = {
						tier = BARON
						father = {
							tier = BARON
						}
						mother = {
							tier = BARON
						}
					}
				}
			}
			prestige = 50
		}
		if = {
			limit = {
				FROMFROMFROM = {
					NOR = {
						is_ruler = yes
						father = {
							is_ruler = yes
						}
						mother = {
							is_ruler = yes
						}
					}
				}
			}
			prestige = 25
		}
		FROMFROMFROM = {
			clr_character_flag = asking_for_matrilineal
			clr_character_flag = landless_fiancee_flag
		}
		FROMFROM = {
			clr_character_flag = asking_for_matrilineal
			clr_character_flag = landless_fiancee_flag
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Suitor - No marriage - End of line
character_event = {
	id = selfmarriage.12002
	desc = EVTDESCAselfmarriage12002
	picture = GFX_evt_elf_love
	is_triggered_only = yes

	option = {
		name = EVTOPTBselfmarriage12002
		ai_chance = {
			factor = 1
		}
	}
}

# Flavor event for asuryan marriage
long_character_event = {
	id = selfmarriage.13
	desc = EVTDESCAselfmarriage13
	picture = GFX_evt_elf_marriage
	is_triggered_only = yes

	option = {
		name = EVTOPTBselfmarriage13
		ai_chance = {
			factor = 1
		}
	}
}

# Flavor event for druchii marriage
long_character_event = {
	id = selfmarriage.13001
	desc = EVTDESCAselfmarriage13001
	picture = GFX_evt_druchii_marriage
	is_triggered_only = yes

	option = {
		name = EVTOPTBselfmarriage13001
		ai_chance = {
			factor = 1
		}
	}
}

# Flavor event for asrai marriage
long_character_event = {
	id = selfmarriage.13002
	desc = EVTDESCAselfmarriage13002
	picture = GFX_evt_asrai_marriage
	is_triggered_only = yes

	option = {
		name = EVTOPTBselfmarriage13002
		ai_chance = {
			factor = 1
		}
	}
}

# AI ELVEN COURTING - LANDLESS CHARACTERS - CADAI GROUP
character_event = {
	id = selfmarriage.50
	hide_window = yes
	ai = yes
	is_married = no
	capable_only = yes
	religion_group = cadai_group

	trigger = {
		trait = creature_elf
		is_betrothed = no
		is_married = no
		age = 25
		is_incapacitated_trigger = no
		holy_order = no
		mercenary = no
		NOT = {
			cannot_marry_trigger = yes
		}
		NOT = {
			has_character_modifier = courting_timer
		}
		OR = {
			is_landed = no
			tier = BARON
		}
	}

	immediate = {
		random_playable_ruler = {
			limit = {
				trait = creature_elf
				is_within_diplo_range = ROOT
				holy_order = no
				mercenary = no
			}
			random_realm_character = {
				limit = {
					is_incapacitated_trigger = no
					NOT = {
						cannot_marry_trigger = yes
					}
					NOT = {
						has_character_modifier = courting_timer
					}
					trait = creature_elf
					holy_order = no
					mercenary = no
					age = 25
					OR = {
						AND = {
							ROOT = {
								is_female = no
							}
							is_female = yes
						}
						AND = {
							ROOT = {
								is_female = yes
							}
							is_female = no
						}
					}
				}
				save_event_target_as = courted_elf
			}
		}
	}
	is_triggered_only = yes

	weight_multiplier = {
		days = 1
		# Main reasons
		modifier = {
			factor = 0.5
			event_target:courted_elf = {
				NOT = {
					religion = ROOT
				}
			}
		}
		modifier = {
			factor = 0.15
			event_target:courted_elf = {
				NOT = {
					religion_group = ROOT
				}
			}
		}
		modifier = {
			factor = 0.5
			event_target:courted_elf = {
				is_female = yes
			} # Less likely to be the ones starting the courting
		}
		modifier = {
			factor = 0.1
			event_target:courted_elf = {
				is_close_relative = ROOT
			}
		}
		modifier = {
			factor = 0
			event_target:courted_elf = {
				NOT = {
					religion = atharti
				}
				father = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 0
			event_target:courted_elf = {
				NOT = {
					religion = atharti
				}
				mother = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 0
			event_target:courted_elf = {
				NOT = {
					religion = atharti
				}
				any_child = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 0.25
			NOR = {
				event_target:courted_elf = {
					higher_tier_than = DUKE
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						higher_tier_than = DUKE
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						higher_tier_than = DUKE
					}
				}
			}
			OR = {
				trait = phoenix_king
				father_even_if_dead = {
					trait = phoenix_king
				}
				mother_even_if_dead = {
					trait = phoenix_king
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				trait = infertile
			}
		}
		modifier = {
			# Provincial scum
			factor = 0.75
			event_target:courted_elf = {
				capital_scope = {
					empire = {
						title = e_ulthuan
					}
				}
			}
			NOT = {
				capital_scope = {
					empire = {
						title = e_ulthuan
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			event_target:courted_elf = {
				NOT = {
					age = 30
				}
			}
			NOT = {
				age = 30
			}
		}
		modifier = {
			factor = 1.5
			event_target:courted_elf = {
				age = 30
			}
			age = 30
		}
		modifier = {
			factor = 1.35
			event_target:courted_elf = {
				age = 40
			}
		}
		modifier = {
			factor = 1.5
			father = {
				current_heir = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 1.5
			mother = {
				current_heir = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 0.75
			num_of_children = 2
		}
		modifier = {
			factor = 0.95
			NOT = {
				piety = 0
			}
		}
		modifier = {
			factor = 0.65
			NOT = {
				prestige = 0
			}
		}
		modifier = {
			factor = 1.25
			prestige = 100
		}
		modifier = {
			factor = 1.25
			prestige = 300
		}
		modifier = {
			factor = 1.25
			prestige = 500
		}
		modifier = {
			factor = 1.25
			prestige = 700
		}
		modifier = {
			factor = 1.25
			prestige = 900
		}
		modifier = {
			factor = 0.75
			NOT = {
				wealth = 0
			}
		}
		modifier = {
			factor = 0.85
			NOT = {
				wealth = 150
			}
		}
		modifier = {
			factor = 0.95
			NOT = {
				wealth = 250
			}
		}
		modifier = {
			factor = 1.15
			wealth = 150
		}
		modifier = {
			factor = 1.15
			wealth = 250
		}
		modifier = {
			factor = 1.15
			wealth = 500
		}
		modifier = {
			factor = 1.25
			dynasty = event_target:courted_elf
		}
		modifier = {
			factor = 0.45
			trait = infertile
		}
		modifier = {
			factor = 0
			OR = {
				father = {
					character = event_target:courted_elf
				}
				mother = {
					character = event_target:courted_elf
				}
			}
		}
		modifier = {
			factor = 0.25
			is_close_relative = event_target:courted_elf
		}
		modifier = {
			factor = 0.65
			NOT = {
				culture = event_target:courted_elf
			}
		}
		modifier = {
			# Safeguard the Princedoms' integrity
			factor = 0.35
			NOT = {
				culture = event_target:courted_elf
			}
			OR = {
				higher_tier_than = DUKE
				father_even_if_dead = {
					higher_tier_than = DUKE
				}
				mother_even_if_dead = {
					higher_tier_than = DUKE
				}
			}
			OR = {
				event_target:courted_elf = {
					higher_tier_than = DUKE
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						higher_tier_than = DUKE
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						higher_tier_than = DUKE
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = BARON
				father_even_if_dead = {
					tier = BARON
				}
				mother_even_if_dead = {
					tier = BARON
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = BARON
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = BARON
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = BARON
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = COUNT
				father_even_if_dead = {
					tier = COUNT
				}
				mother_even_if_dead = {
					tier = COUNT
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = COUNT
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = COUNT
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = COUNT
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = DUKE
				father_even_if_dead = {
					tier = DUKE
				}
				mother_even_if_dead = {
					tier = DUKE
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = DUKE
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = DUKE
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = DUKE
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = KING
				father_even_if_dead = {
					tier = KING
				}
				mother_even_if_dead = {
					tier = KING
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = KING
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = KING
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = KING
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = EMPEROR
				father_even_if_dead = {
					tier = EMPEROR
				}
				mother_even_if_dead = {
					tier = EMPEROR
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = EMPEROR
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = EMPEROR
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = EMPEROR
					}
				}
			}
		}
		modifier = {
			factor = 0.15
			is_ruler = yes
			event_target:courted_elf = {
				is_ruler = no
				father_even_if_dead = {
					is_ruler = no
				}
				mother_even_if_dead = {
					is_ruler = no
				}
			}
		}
		modifier = {
			factor = 0.15
			is_ruler = no
			event_target:courted_elf = {
				OR = {
					is_ruler = yes
					father_even_if_dead = {
						is_ruler = yes
					}
					mother_even_if_dead = {
						is_ruler = yes
					}
				}
			}
		}
		modifier = {
			factor = 0.35
			higher_tier_than = COUNT
			event_target:courted_elf = {
				is_ruler = yes
				lower_tier_than = DUKE
				father_even_if_dead = {
					lower_tier_than = DUKE
				}
				mother_even_if_dead = {
					lower_tier_than = DUKE
				}
			}
		}
		# Sentimental reasons
		modifier = {
			factor = 0.95
			trait = homosexual
		}
		modifier = {
			factor = 0.75
			event_target:courted_elf = {
				trait = homosexual
			}
		}
		modifier = {
			factor = 4
			is_lover = event_target:courted_elf
		}
		modifier = {
			factor = 0.85
			NOT = {
				is_lover = event_target:courted_elf
			}
			has_lover = yes
		}
		modifier = {
			factor = 2.5
			is_friend = event_target:courted_elf
		}
		modifier = {
			factor = 0.15
			is_rival = event_target:courted_elf
		}
		modifier = {
			factor = 1.5
			event_target:courted_elf = {
				NOR = {
					trait = magic_potential_1
					trait = magic_potential_2
					trait = magic_potential_3
					trait = magic_potential_4
				}
			}
			OR = {
				trait = magic_potential_1
				trait = magic_potential_2
				trait = magic_potential_3
				trait = magic_potential_4
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
			OR = {
				trait = amateurish_plotter
				trait = flamboyant_schemer
				trait = intricate_webweaver
				trait = elusive_shadow
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = naive_appeaser
					trait = underhanded_rogue
					trait = charismatic_negotiator
					trait = grey_eminence
				}
			}
			OR = {
				trait = naive_appeaser
				trait = underhanded_rogue
				trait = charismatic_negotiator
				trait = grey_eminence
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = indulgent_wastrel
					trait = thrifty_clerk
					trait = fortune_builder
					trait = midas_touched
				}
			}
			OR = {
				trait = indulgent_wastrel
				trait = thrifty_clerk
				trait = fortune_builder
				trait = midas_touched
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
			}
			OR = {
				trait = misguided_warrior
				trait = tough_soldier
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.25
			trait = haughty
		}
		modifier = {
			factor = 0.9
			trait = stressed
		}
		modifier = {
			factor = 0.9
			trait = depressed
		}
		modifier = {
			factor = 0.9
			trait = lunatic_1
		}
		modifier = {
			factor = 0.8
			trait = lunatic_2
		}
		modifier = {
			factor = 0.7
			trait = lunatic_3
		}
		modifier = {
			factor = 0.9
			trait = ill
		}
		modifier = {
			factor = 0.8
			trait = pneumonic
		}
		modifier = {
			factor = 0.7
			trait = syphilitic
		}
		modifier = {
			factor = 0.9
			is_ill = yes
		}
		modifier = {
			factor = 0.9
			trait = scarred
		}
		modifier = {
			factor = 0.9
			trait = clubfooted
		}
		modifier = {
			factor = 0.8
			trait = harelip
		}
		modifier = {
			factor = 0.7
			trait = hunchback
		}
		modifier = {
			factor = 0.9
			trait = lisp
		}
		modifier = {
			factor = 0.9
			trait = stutter
		}
		modifier = {
			factor = 0.6
			trait = dwarf
		}
		modifier = {
			factor = 1.5
			trait = asur_mage
			event_target:courted_elf = {
				trait = asur_mage
			}
		}
		modifier = {
			factor = 1.25
			trait = socializer
			event_target:courted_elf = {
				trait = socializer
			}
		}
		modifier = {
			factor = 1.25
			trait = gamer
			event_target:courted_elf = {
				trait = gamer
			}
		}
		modifier = {
			factor = 1.25
			trait = hedonist
			event_target:courted_elf = {
				trait = hedonist
			}
		}
		modifier = {
			factor = 1.25
			trait = duelist
			event_target:courted_elf = {
				trait = duelist
			}
		}
		modifier = {
			factor = 1.25
			trait = hunter
			event_target:courted_elf = {
				trait = hunter
			}
		}
		modifier = {
			factor = 1.25
			trait = strategist
			event_target:courted_elf = {
				trait = strategist
			}
		}
		modifier = {
			factor = 1.25
			trait = administrator
			event_target:courted_elf = {
				trait = administrator
			}
		}
		modifier = {
			factor = 1.25
			trait = architect
			event_target:courted_elf = {
				trait = architect
			}
		}
		modifier = {
			factor = 1.25
			trait = gardener
			event_target:courted_elf = {
				trait = gardener
			}
		}
		modifier = {
			factor = 1.25
			trait = schemer
			event_target:courted_elf = {
				trait = schemer
			}
		}
		modifier = {
			factor = 1.25
			trait = impaler
			event_target:courted_elf = {
				trait = impaler
			}
		}
		modifier = {
			factor = 0.75
			trait = impaler
			event_target:courted_elf = {
				NOR = {
					trait = impaler
					trait = cruel
				}
			}
		}
		modifier = {
			factor = 1.5
			trait = seducer
			event_target:courted_elf = {
				trait = seductress
			}
		}
		modifier = {
			factor = 1.5
			trait = seductress
			event_target:courted_elf = {
				trait = seducer
			}
		}
		modifier = {
			factor = 1.25
			trait = scholar
			event_target:courted_elf = {
				trait = scholar
			}
		}
		modifier = {
			factor = 1.25
			trait = theologian
			event_target:courted_elf = {
				trait = theologian
			}
		}
		modifier = {
			factor = 1.25
			trait = mystic
			event_target:courted_elf = {
				trait = mystic
			}
		}
		modifier = {
			factor = 1.5
			trait = celibate
			event_target:courted_elf = {
				trait = celibate
			}
		}
		modifier = {
			factor = 0.75
			trait = celibate
			event_target:courted_elf = {
				NOT = {
					trait = celibate
				}
			}
		}
		modifier = {
			factor = 0.75
			NOT = {
				trait = celibate
			}
			event_target:courted_elf = {
				trait = celibate
			}
		}
		modifier = {
			factor = 1.25
			trait = poet
			event_target:courted_elf = {
				trait = poet
			}
		}
		modifier = {
			factor = 1.25
			trait = falconer
			event_target:courted_elf = {
				trait = falconer
			}
		}
		modifier = {
			factor = 1.25
			trait = chaste
			event_target:courted_elf = {
				trait = chaste
			}
		}
		modifier = {
			factor = 1.25
			trait = lustful
			event_target:courted_elf = {
				trait = lustful
			}
		}
		modifier = {
			factor = 1.25
			trait = lustful
		}
		modifier = {
			factor = 1.5
			event_target:courted_elf = {
				trait = lustful
			}
		}
		modifier = {
			factor = 1.25
			trait = temperate
		}
		modifier = {
			factor = 0.85
			trait = gluttonous
		}
		modifier = {
			factor = 1.25
			trait = charitable
			event_target:courted_elf = {
				NOT = {
					trait = greedy
				}
			}
		}
		modifier = {
			factor = 1.5
			trait = kind
			event_target:courted_elf = {
				NOT = {
					trait = cruel
				}
			}
		}
		modifier = {
			factor = 0.85
			trait = wroth
		}
		modifier = {
			factor = 0.85
			trait = envious
		}
		modifier = {
			factor = 0.85
			trait = humble
		}
		modifier = {
			factor = 1.25
			trait = proud
		}
		modifier = {
			factor = 0.85
			trait = deceitful
			event_target:courted_elf = {
				NOT = {
					trait = deceitful
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = honest
			event_target:courted_elf = {
				NOT = {
					trait = deceitful
				}
			}
		}
		modifier = {
			factor = 0.85
			trait = craven
		}
		modifier = {
			factor = 1.25
			trait = brave
		}
		modifier = {
			factor = 1.15
			trait = shy
		}
		modifier = {
			factor = 0.95
			event_target:courted_elf = {
				trait = shy
			}
		}
		modifier = {
			factor = 1.15
			trait = content
		}
		modifier = {
			factor = 0.85
			trait = arbitrary
			event_target:courted_elf = {
				NOT = {
					trait = arbitrary
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = just
			event_target:courted_elf = {
				NOT = {
					trait = arbitrary
				}
			}
		}
		modifier = {
			factor = 0.85
			trait = cynical
			event_target:courted_elf = {
				NOT = {
					trait = cynical
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = zealous
			event_target:courted_elf = {
				NOT = {
					trait = cynical
				}
			}
		}
		modifier = {
			factor = 0.95
			trait = paranoid
		}
		modifier = {
			factor = 0.85
			trait = trusting
		}
		modifier = {
			factor = 1.35
			trait = gregarious
		}
		modifier = {
			factor = 0.95
			trait = ambitious
		}
		modifier = {
			factor = 1.5
			trait = diligent
		}
		modifier = {
			factor = 1.25
			trait = patient
		}
		modifier = {
			factor = 0.95
			trait = slothful
		}
		modifier = {
			factor = 0.85
			trait = cruel
			event_target:courted_elf = {
				NOR = {
					trait = cruel
					trait = impaler
				}
			}
		}
		modifier = {
			factor = 1.35
			trait = erudite
		}
		modifier = {
			factor = 1.15
			trait = stubborn
		}
		modifier = {
			factor = 0.85
			trait = fat
		}
		modifier = {
			factor = 1.15
			trait = undernourished
		}
		modifier = {
			factor = 0.85
			trait = blinded
		}
		modifier = {
			factor = 0.65
			trait = disfigured
		}
		modifier = {
			factor = 1.5
			has_artifact = black_dragon_mount
		}
		modifier = {
			factor = 1.5
			has_artifact = blue_dragon_mount
		}
		modifier = {
			factor = 1.5
			has_artifact = gold_dragon_mount
		}
		modifier = {
			factor = 1.5
			has_artifact = red_dragon_mount
		}
		modifier = {
			factor = 1.5
			has_artifact = white_dragon_mount
		}
		modifier = {
			factor = 0.5
			trait = burnt_by_asuryan
		}
		modifier = {
			factor = 0
			trait = burnt_by_asuryan
			event_target:courted_elf = {
				culture_group = asur_group
			}
		}
		modifier = {
			factor = 0.75
			trait = asuryan_stain
			event_target:courted_elf = {
				culture_group = asur_group
			}
		}
		modifier = {
			factor = 0.15
			culture_group = druchi_group
			event_target:courted_elf = {
				culture_group = asur_group
			}
		}
		modifier = {
			factor = 0.5
			culture_group = asrai_group
			event_target:courted_elf = {
				culture_group = asur_group
			}
		}
		modifier = {
			factor = 0.85
			trait = interventionist_elf
			event_target:courted_elf = {
				trait = isolationist_elf
			}
		}
		modifier = {
			factor = 0.85
			trait = isolationist_elf
			event_target:courted_elf = {
				trait = interventionist_elf
			}
		}
		modifier = {
			factor = 0.5
			trait = mutation_minor
		}
		modifier = {
			factor = 0.25
			trait = mutation_major
		}
		modifier = {
			factor = 0
			trait = mutation_massive
		}
		modifier = {
			factor = 0
			trait = avatar_isha
			event_target:courted_elf = {
				NOT = {
					trait = avatar_kurnous
				}
			}
		}
		modifier = {
			factor = 0
			trait = avatar_kurnous
			event_target:courted_elf = {
				NOT = {
					trait = avatar_isha
				}
			}
		}
		modifier = {
			factor = 10
			trait = avatar_kurnous
			event_target:courted_elf = {
				trait = avatar_isha
			}
		}
		modifier = {
			factor = 10
			trait = avatar_isha
			event_target:courted_elf = {
				trait = avatar_kurnous
			}
		}
		modifier = {
			factor = 2
			trait = asrai_spellsinger
			event_target:courted_elf = {
				trait = asrai_spellsinger
			}
		}
		modifier = {
			factor = 0.5
			trait = hollowed
		}
		modifier = {
			factor = 1.75
			trait = druchi_black_guard
			event_target:courted_elf = {
				culture_group = druchi_group
			}
		}
		modifier = {
			factor = 1.35
			trait = elven_maiden
			event_target:courted_elf = {
				trait = elven_scion
			}
		}
		modifier = {
			factor = 1.35
			trait = elven_scion
			event_target:courted_elf = {
				trait = elven_maiden
			}
		}
		modifier = {
			factor = 1.15
			trait = bright
		}
		modifier = {
			factor = 1.25
			trait = smart
		}
		modifier = {
			factor = 1.35
			trait = quick
		}
		modifier = {
			factor = 1.45
			trait = brilliant
		}
		modifier = {
			factor = 1.5
			trait = genius
		}
		modifier = {
			factor = 0.95
			trait = dim
		}
		modifier = {
			factor = 0.85
			trait = dumb
		}
		modifier = {
			factor = 0.75
			trait = slow
		}
		modifier = {
			factor = 0.65
			trait = idiot
		}
		modifier = {
			factor = 0.5
			trait = imbecile
		}
		modifier = {
			factor = 0.75
			trait = strong
		}
		modifier = {
			factor = 0.85
			trait = tough
		}
		modifier = {
			factor = 0.95
			trait = hardy
		}
		modifier = {
			factor = 0.85
			trait = robust
		}
		modifier = {
			factor = 1.15
			trait = soft
		}
		modifier = {
			factor = 1.25
			trait = fragile
		}
		modifier = {
			factor = 1.35
			trait = weak
		}
		modifier = {
			factor = 1.75
			trait = beautiful
		}
		modifier = {
			factor = 1.5
			trait = pretty
		}
		modifier = {
			factor = 1.25
			trait = fair
		}
		modifier = {
			factor = 0.75
			trait = plain
		}
		modifier = {
			factor = 0.65
			trait = ugly
		}
		modifier = {
			factor = 0.5
			trait = unsightly
		}
		modifier = {
			factor = 0.45
			trait = monstrous
		}
		modifier = {
			factor = 1.25
			trait = tall
		}
		modifier = {
			factor = 0.75
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -100
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -80
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -60
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -40
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -20
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = 0
					}
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 20
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 40
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 60
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 80
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 100
				}
			}
		}
	}
	# mean_time_to_happen = {
	# days = 31
	# }

	option = {
		name = OK
		ai_chance = {
			factor = 1
		}
		set_variable = {
			which = "courting_score"
			value = 0
		}
		clr_character_flag = asking_for_matrilineal
		clr_character_flag = landless_fiancee_flag
		add_character_modifier = {
			name = courting_timer
			hidden = yes
			duration = 365
		}
		event_target:courted_elf = {
			clr_character_flag = asking_for_matrilineal
			clr_character_flag = landless_fiancee_flag
			add_character_modifier = {
				name = courting_timer
				hidden = yes
				duration = 365
			}
			character_event = {
				id = selfmarriage.52
			}
		}
	}
}

# AI ELVEN COURTING - LANDLESS CHARACTERS - CYTHARAI GROUP
character_event = {
	id = selfmarriage.51
	hide_window = yes
	ai = yes
	is_married = no
	capable_only = yes
	religion_group = cytharai_group

	trigger = {
		trait = creature_elf
		is_betrothed = no
		is_married = no
		age = 25
		is_incapacitated_trigger = no
		holy_order = no
		mercenary = no
		NOT = {
			cannot_marry_trigger = yes
		}
		NOT = {
			has_character_modifier = courting_timer
		}
		OR = {
			is_landed = no
			tier = BARON
		}
	}

	immediate = {
		random_playable_ruler = {
			limit = {
				trait = creature_elf
				is_within_diplo_range = ROOT
			}
			random_realm_character = {
				limit = {
					is_incapacitated_trigger = no
					NOT = {
						cannot_marry_trigger = yes
					}
					NOT = {
						has_character_modifier = courting_timer
					}
					trait = creature_elf
					holy_order = no
					mercenary = no
					age = 25
					OR = {
						AND = {
							ROOT = {
								is_female = no
							}
							is_female = yes
						}
						AND = {
							ROOT = {
								is_female = yes
							}
							is_female = no
						}
					}
				}
				save_event_target_as = courted_elf
			}
		}
	}
	is_triggered_only = yes

	weight_multiplier = {
		days = 1
		# Main reasons
		modifier = {
			factor = 0.5
			event_target:courted_elf = {
				NOT = {
					religion = ROOT
				}
			}
		}
		modifier = {
			factor = 0.15
			event_target:courted_elf = {
				NOT = {
					religion_group = ROOT
				}
			}
		}
		modifier = {
			factor = 0.5
			event_target:courted_elf = {
				is_female = yes
			} # Less likely to be the ones starting the courting
		}
		modifier = {
			factor = 0.1
			event_target:courted_elf = {
				is_close_relative = ROOT
			}
		}
		modifier = {
			factor = 0
			event_target:courted_elf = {
				NOT = {
					religion = atharti
				}
				father = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 0
			event_target:courted_elf = {
				NOT = {
					religion = atharti
				}
				mother = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 0
			event_target:courted_elf = {
				NOT = {
					religion = atharti
				}
				any_child = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 0.25
			NOR = {
				event_target:courted_elf = {
					higher_tier_than = DUKE
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						higher_tier_than = DUKE
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						higher_tier_than = DUKE
					}
				}
			}
			OR = {
				trait = phoenix_king
				father_even_if_dead = {
					trait = phoenix_king
				}
				mother_even_if_dead = {
					trait = phoenix_king
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				trait = infertile
			}
		}
		modifier = {
			# Provincial scum
			factor = 0.75
			event_target:courted_elf = {
				capital_scope = {
					empire = {
						title = e_ulthuan
					}
				}
			}
			NOT = {
				capital_scope = {
					empire = {
						title = e_ulthuan
					}
				}
			}
		}
		modifier = {
			factor = 1.5
			event_target:courted_elf = {
				NOT = {
					age = 30
				}
			}
			NOT = {
				age = 30
			}
		}
		modifier = {
			factor = 1.5
			event_target:courted_elf = {
				age = 30
			}
			age = 30
		}
		modifier = {
			factor = 1.35
			event_target:courted_elf = {
				age = 40
			}
		}
		modifier = {
			factor = 1.5
			father = {
				current_heir = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 1.5
			mother = {
				current_heir = {
					character = ROOT
				}
			}
		}
		modifier = {
			factor = 0.75
			num_of_children = 2
		}
		modifier = {
			factor = 0.95
			NOT = {
				piety = 0
			}
		}
		modifier = {
			factor = 0.65
			NOT = {
				prestige = 0
			}
		}
		modifier = {
			factor = 1.25
			prestige = 100
		}
		modifier = {
			factor = 1.25
			prestige = 300
		}
		modifier = {
			factor = 1.25
			prestige = 500
		}
		modifier = {
			factor = 1.25
			prestige = 700
		}
		modifier = {
			factor = 1.25
			prestige = 900
		}
		modifier = {
			factor = 0.75
			NOT = {
				wealth = 0
			}
		}
		modifier = {
			factor = 0.85
			NOT = {
				wealth = 150
			}
		}
		modifier = {
			factor = 0.95
			NOT = {
				wealth = 250
			}
		}
		modifier = {
			factor = 1.15
			wealth = 150
		}
		modifier = {
			factor = 1.15
			wealth = 250
		}
		modifier = {
			factor = 1.15
			wealth = 500
		}
		modifier = {
			factor = 1.25
			dynasty = event_target:courted_elf
		}
		modifier = {
			factor = 0.45
			trait = infertile
		}
		modifier = {
			factor = 0
			OR = {
				father = {
					character = event_target:courted_elf
				}
				mother = {
					character = event_target:courted_elf
				}
			}
		}
		modifier = {
			factor = 0.25
			is_close_relative = event_target:courted_elf
		}
		modifier = {
			factor = 0.65
			NOT = {
				culture = event_target:courted_elf
			}
		}
		modifier = {
			# Safeguard the Princedoms' integrity
			factor = 0.35
			NOT = {
				culture = event_target:courted_elf
			}
			OR = {
				higher_tier_than = DUKE
				father_even_if_dead = {
					higher_tier_than = DUKE
				}
				mother_even_if_dead = {
					higher_tier_than = DUKE
				}
			}
			OR = {
				event_target:courted_elf = {
					higher_tier_than = DUKE
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						higher_tier_than = DUKE
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						higher_tier_than = DUKE
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = BARON
				father_even_if_dead = {
					tier = BARON
				}
				mother_even_if_dead = {
					tier = BARON
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = BARON
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = BARON
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = BARON
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = COUNT
				father_even_if_dead = {
					tier = COUNT
				}
				mother_even_if_dead = {
					tier = COUNT
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = COUNT
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = COUNT
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = COUNT
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = DUKE
				father_even_if_dead = {
					tier = DUKE
				}
				mother_even_if_dead = {
					tier = DUKE
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = DUKE
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = DUKE
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = DUKE
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = KING
				father_even_if_dead = {
					tier = KING
				}
				mother_even_if_dead = {
					tier = KING
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = KING
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = KING
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = KING
					}
				}
			}
		}
		modifier = {
			factor = 2
			OR = {
				tier = EMPEROR
				father_even_if_dead = {
					tier = EMPEROR
				}
				mother_even_if_dead = {
					tier = EMPEROR
				}
			}
			OR = {
				event_target:courted_elf = {
					tier = EMPEROR
				}
				event_target:courted_elf = {
					father_even_if_dead = {
						tier = EMPEROR
					}
				}
				event_target:courted_elf = {
					mother_even_if_dead = {
						tier = EMPEROR
					}
				}
			}
		}
		modifier = {
			factor = 0.15
			is_ruler = yes
			event_target:courted_elf = {
				is_ruler = no
				father_even_if_dead = {
					is_ruler = no
				}
				mother_even_if_dead = {
					is_ruler = no
				}
			}
		}
		modifier = {
			factor = 0.15
			is_ruler = no
			event_target:courted_elf = {
				OR = {
					is_ruler = yes
					father_even_if_dead = {
						is_ruler = yes
					}
					mother_even_if_dead = {
						is_ruler = yes
					}
				}
			}
		}
		modifier = {
			factor = 0.35
			higher_tier_than = COUNT
			event_target:courted_elf = {
				is_ruler = yes
				lower_tier_than = DUKE
				father_even_if_dead = {
					lower_tier_than = DUKE
				}
				mother_even_if_dead = {
					lower_tier_than = DUKE
				}
			}
		}
		# Sentimental reasons
		modifier = {
			factor = 0.95
			trait = homosexual
		}
		modifier = {
			factor = 0.75
			event_target:courted_elf = {
				trait = homosexual
			}
		}
		modifier = {
			factor = 4
			is_lover = event_target:courted_elf
		}
		modifier = {
			factor = 0.85
			NOT = {
				is_lover = event_target:courted_elf
			}
			has_lover = yes
		}
		modifier = {
			factor = 2.5
			is_friend = event_target:courted_elf
		}
		modifier = {
			factor = 0.15
			is_rival = event_target:courted_elf
		}
		modifier = {
			factor = 1.5
			event_target:courted_elf = {
				NOR = {
					trait = magic_potential_1
					trait = magic_potential_2
					trait = magic_potential_3
					trait = magic_potential_4
				}
			}
			OR = {
				trait = magic_potential_1
				trait = magic_potential_2
				trait = magic_potential_3
				trait = magic_potential_4
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = amateurish_plotter
					trait = flamboyant_schemer
					trait = intricate_webweaver
					trait = elusive_shadow
				}
			}
			OR = {
				trait = amateurish_plotter
				trait = flamboyant_schemer
				trait = intricate_webweaver
				trait = elusive_shadow
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = naive_appeaser
					trait = underhanded_rogue
					trait = charismatic_negotiator
					trait = grey_eminence
				}
			}
			OR = {
				trait = naive_appeaser
				trait = underhanded_rogue
				trait = charismatic_negotiator
				trait = grey_eminence
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = indulgent_wastrel
					trait = thrifty_clerk
					trait = fortune_builder
					trait = midas_touched
				}
			}
			OR = {
				trait = indulgent_wastrel
				trait = thrifty_clerk
				trait = fortune_builder
				trait = midas_touched
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = misguided_warrior
					trait = tough_soldier
					trait = skilled_tactician
					trait = brilliant_strategist
				}
			}
			OR = {
				trait = misguided_warrior
				trait = tough_soldier
				trait = skilled_tactician
				trait = brilliant_strategist
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				OR = {
					trait = detached_priest
					trait = martial_cleric
					trait = scholarly_theologian
					trait = mastermind_theologian
				}
			}
			OR = {
				trait = detached_priest
				trait = martial_cleric
				trait = scholarly_theologian
				trait = mastermind_theologian
			}
		}
		modifier = {
			factor = 1.25
			trait = haughty
		}
		modifier = {
			factor = 0.9
			trait = stressed
		}
		modifier = {
			factor = 0.9
			trait = depressed
		}
		modifier = {
			factor = 0.9
			trait = lunatic_1
		}
		modifier = {
			factor = 0.8
			trait = lunatic_2
		}
		modifier = {
			factor = 0.7
			trait = lunatic_3
		}
		modifier = {
			factor = 0.9
			trait = ill
		}
		modifier = {
			factor = 0.8
			trait = pneumonic
		}
		modifier = {
			factor = 0.7
			trait = syphilitic
		}
		modifier = {
			factor = 0.9
			is_ill = yes
		}
		modifier = {
			factor = 0.9
			trait = scarred
		}
		modifier = {
			factor = 0.9
			trait = clubfooted
		}
		modifier = {
			factor = 0.8
			trait = harelip
		}
		modifier = {
			factor = 0.7
			trait = hunchback
		}
		modifier = {
			factor = 0.9
			trait = lisp
		}
		modifier = {
			factor = 0.9
			trait = stutter
		}
		modifier = {
			factor = 0.6
			trait = dwarf
		}
		modifier = {
			factor = 1.5
			trait = asur_mage
			event_target:courted_elf = {
				trait = asur_mage
			}
		}
		modifier = {
			factor = 1.25
			trait = socializer
			event_target:courted_elf = {
				trait = socializer
			}
		}
		modifier = {
			factor = 1.25
			trait = gamer
			event_target:courted_elf = {
				trait = gamer
			}
		}
		modifier = {
			factor = 1.25
			trait = hedonist
			event_target:courted_elf = {
				trait = hedonist
			}
		}
		modifier = {
			factor = 1.25
			trait = duelist
			event_target:courted_elf = {
				trait = duelist
			}
		}
		modifier = {
			factor = 1.25
			trait = hunter
			event_target:courted_elf = {
				trait = hunter
			}
		}
		modifier = {
			factor = 1.25
			trait = strategist
			event_target:courted_elf = {
				trait = strategist
			}
		}
		modifier = {
			factor = 1.25
			trait = administrator
			event_target:courted_elf = {
				trait = administrator
			}
		}
		modifier = {
			factor = 1.25
			trait = architect
			event_target:courted_elf = {
				trait = architect
			}
		}
		modifier = {
			factor = 1.25
			trait = gardener
			event_target:courted_elf = {
				trait = gardener
			}
		}
		modifier = {
			factor = 1.25
			trait = schemer
			event_target:courted_elf = {
				trait = schemer
			}
		}
		modifier = {
			factor = 1.25
			trait = impaler
			event_target:courted_elf = {
				trait = impaler
			}
		}
		modifier = {
			factor = 0.75
			trait = impaler
			event_target:courted_elf = {
				NOR = {
					trait = impaler
					trait = cruel
				}
			}
		}
		modifier = {
			factor = 1.5
			trait = seducer
			event_target:courted_elf = {
				trait = seductress
			}
		}
		modifier = {
			factor = 1.5
			trait = seductress
			event_target:courted_elf = {
				trait = seducer
			}
		}
		modifier = {
			factor = 1.25
			trait = scholar
			event_target:courted_elf = {
				trait = scholar
			}
		}
		modifier = {
			factor = 1.25
			trait = theologian
			event_target:courted_elf = {
				trait = theologian
			}
		}
		modifier = {
			factor = 1.25
			trait = mystic
			event_target:courted_elf = {
				trait = mystic
			}
		}
		modifier = {
			factor = 1.5
			trait = celibate
			event_target:courted_elf = {
				trait = celibate
			}
		}
		modifier = {
			factor = 0.75
			trait = celibate
			event_target:courted_elf = {
				NOT = {
					trait = celibate
				}
			}
		}
		modifier = {
			factor = 0.75
			NOT = {
				trait = celibate
			}
			event_target:courted_elf = {
				trait = celibate
			}
		}
		modifier = {
			factor = 1.25
			trait = poet
			event_target:courted_elf = {
				trait = poet
			}
		}
		modifier = {
			factor = 1.25
			trait = falconer
			event_target:courted_elf = {
				trait = falconer
			}
		}
		modifier = {
			factor = 1.25
			trait = chaste
			event_target:courted_elf = {
				trait = chaste
			}
		}
		modifier = {
			factor = 1.25
			trait = lustful
			event_target:courted_elf = {
				trait = lustful
			}
		}
		modifier = {
			factor = 1.25
			trait = lustful
		}
		modifier = {
			factor = 1.5
			event_target:courted_elf = {
				trait = lustful
			}
		}
		modifier = {
			factor = 1.25
			trait = temperate
		}
		modifier = {
			factor = 0.85
			trait = gluttonous
		}
		modifier = {
			factor = 1.25
			trait = charitable
			event_target:courted_elf = {
				NOT = {
					trait = greedy
				}
			}
		}
		modifier = {
			factor = 1.5
			trait = kind
			event_target:courted_elf = {
				NOT = {
					trait = cruel
				}
			}
		}
		modifier = {
			factor = 0.85
			trait = wroth
		}
		modifier = {
			factor = 0.85
			trait = envious
		}
		modifier = {
			factor = 0.85
			trait = humble
		}
		modifier = {
			factor = 1.25
			trait = proud
		}
		modifier = {
			factor = 0.85
			trait = deceitful
			event_target:courted_elf = {
				NOT = {
					trait = deceitful
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = honest
			event_target:courted_elf = {
				NOT = {
					trait = deceitful
				}
			}
		}
		modifier = {
			factor = 0.85
			trait = craven
		}
		modifier = {
			factor = 1.25
			trait = brave
		}
		modifier = {
			factor = 1.15
			trait = shy
		}
		modifier = {
			factor = 0.95
			event_target:courted_elf = {
				trait = shy
			}
		}
		modifier = {
			factor = 1.15
			trait = content
		}
		modifier = {
			factor = 0.85
			trait = arbitrary
			event_target:courted_elf = {
				NOT = {
					trait = arbitrary
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = just
			event_target:courted_elf = {
				NOT = {
					trait = arbitrary
				}
			}
		}
		modifier = {
			factor = 0.85
			trait = cynical
			event_target:courted_elf = {
				NOT = {
					trait = cynical
				}
			}
		}
		modifier = {
			factor = 1.25
			trait = zealous
			event_target:courted_elf = {
				NOT = {
					trait = cynical
				}
			}
		}
		modifier = {
			factor = 0.95
			trait = paranoid
		}
		modifier = {
			factor = 0.85
			trait = trusting
		}
		modifier = {
			factor = 1.35
			trait = gregarious
		}
		modifier = {
			factor = 0.95
			trait = ambitious
		}
		modifier = {
			factor = 1.5
			trait = diligent
		}
		modifier = {
			factor = 1.25
			trait = patient
		}
		modifier = {
			factor = 0.95
			trait = slothful
		}
		modifier = {
			factor = 0.85
			trait = cruel
			event_target:courted_elf = {
				NOR = {
					trait = cruel
					trait = impaler
				}
			}
		}
		modifier = {
			factor = 1.35
			trait = erudite
		}
		modifier = {
			factor = 1.15
			trait = stubborn
		}
		modifier = {
			factor = 0.85
			trait = fat
		}
		modifier = {
			factor = 1.15
			trait = undernourished
		}
		modifier = {
			factor = 0.85
			trait = blinded
		}
		modifier = {
			factor = 0.65
			trait = disfigured
		}
		modifier = {
			factor = 1.5
			has_artifact = black_dragon_mount
		}
		modifier = {
			factor = 1.5
			has_artifact = blue_dragon_mount
		}
		modifier = {
			factor = 1.5
			has_artifact = gold_dragon_mount
		}
		modifier = {
			factor = 1.5
			has_artifact = red_dragon_mount
		}
		modifier = {
			factor = 1.5
			has_artifact = white_dragon_mount
		}
		modifier = {
			factor = 0.5
			trait = burnt_by_asuryan
		}
		modifier = {
			factor = 0
			trait = burnt_by_asuryan
			event_target:courted_elf = {
				culture_group = asur_group
			}
		}
		modifier = {
			factor = 0.75
			trait = asuryan_stain
			event_target:courted_elf = {
				culture_group = asur_group
			}
		}
		modifier = {
			factor = 0.15
			culture_group = druchi_group
			event_target:courted_elf = {
				culture_group = asur_group
			}
		}
		modifier = {
			factor = 0.5
			culture_group = asrai_group
			event_target:courted_elf = {
				culture_group = asur_group
			}
		}
		modifier = {
			factor = 0.85
			trait = interventionist_elf
			event_target:courted_elf = {
				trait = isolationist_elf
			}
		}
		modifier = {
			factor = 0.85
			trait = isolationist_elf
			event_target:courted_elf = {
				trait = interventionist_elf
			}
		}
		modifier = {
			factor = 0.5
			trait = mutation_minor
		}
		modifier = {
			factor = 0.25
			trait = mutation_major
		}
		modifier = {
			factor = 0
			trait = mutation_massive
		}
		modifier = {
			factor = 0
			trait = avatar_isha
			event_target:courted_elf = {
				NOT = {
					trait = avatar_kurnous
				}
			}
		}
		modifier = {
			factor = 0
			trait = avatar_kurnous
			event_target:courted_elf = {
				NOT = {
					trait = avatar_isha
				}
			}
		}
		modifier = {
			factor = 10
			trait = avatar_kurnous
			event_target:courted_elf = {
				trait = avatar_isha
			}
		}
		modifier = {
			factor = 10
			trait = avatar_isha
			event_target:courted_elf = {
				trait = avatar_kurnous
			}
		}
		modifier = {
			factor = 2
			trait = asrai_spellsinger
			event_target:courted_elf = {
				trait = asrai_spellsinger
			}
		}
		modifier = {
			factor = 0.5
			trait = hollowed
		}
		modifier = {
			factor = 1.75
			trait = druchi_black_guard
			event_target:courted_elf = {
				culture_group = druchi_group
			}
		}
		modifier = {
			factor = 1.35
			trait = elven_maiden
			event_target:courted_elf = {
				trait = elven_scion
			}
		}
		modifier = {
			factor = 1.35
			trait = elven_scion
			event_target:courted_elf = {
				trait = elven_maiden
			}
		}
		modifier = {
			factor = 1.15
			trait = bright
		}
		modifier = {
			factor = 1.25
			trait = smart
		}
		modifier = {
			factor = 1.35
			trait = quick
		}
		modifier = {
			factor = 1.45
			trait = brilliant
		}
		modifier = {
			factor = 1.5
			trait = genius
		}
		modifier = {
			factor = 0.95
			trait = dim
		}
		modifier = {
			factor = 0.85
			trait = dumb
		}
		modifier = {
			factor = 0.75
			trait = slow
		}
		modifier = {
			factor = 0.65
			trait = idiot
		}
		modifier = {
			factor = 0.5
			trait = imbecile
		}
		modifier = {
			factor = 0.75
			trait = strong
		}
		modifier = {
			factor = 0.85
			trait = tough
		}
		modifier = {
			factor = 0.95
			trait = hardy
		}
		modifier = {
			factor = 0.85
			trait = robust
		}
		modifier = {
			factor = 1.15
			trait = soft
		}
		modifier = {
			factor = 1.25
			trait = fragile
		}
		modifier = {
			factor = 1.35
			trait = weak
		}
		modifier = {
			factor = 1.75
			trait = beautiful
		}
		modifier = {
			factor = 1.5
			trait = pretty
		}
		modifier = {
			factor = 1.25
			trait = fair
		}
		modifier = {
			factor = 0.75
			trait = plain
		}
		modifier = {
			factor = 0.65
			trait = ugly
		}
		modifier = {
			factor = 0.5
			trait = unsightly
		}
		modifier = {
			factor = 0.45
			trait = monstrous
		}
		modifier = {
			factor = 1.25
			trait = tall
		}
		modifier = {
			factor = 0.75
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -100
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -80
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -60
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -40
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = -20
					}
				}
			}
		}
		modifier = {
			factor = 0.85
			event_target:courted_elf = {
				NOT = {
					opinion = {
						who = ROOT
						value = 0
					}
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 20
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 40
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 60
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 80
				}
			}
		}
		modifier = {
			factor = 1.25
			event_target:courted_elf = {
				opinion = {
					who = ROOT
					value = 100
				}
			}
		}
	}
	# mean_time_to_happen = {
	# days = 31
	# }

	option = {
		name = OK
		ai_chance = {
			factor = 1
		}
		set_variable = {
			which = "courting_score"
			value = 0
		}
		clr_character_flag = asking_for_matrilineal
		clr_character_flag = landless_fiancee_flag
		add_character_modifier = {
			name = courting_timer
			hidden = yes
			duration = 365
		}
		event_target:courted_elf = {
			clr_character_flag = asking_for_matrilineal
			clr_character_flag = landless_fiancee_flag
			add_character_modifier = {
				name = courting_timer
				hidden = yes
				duration = 365
			}
			character_event = {
				id = selfmarriage.52
			}
		}
	}
}

# Fiancee: hidden event to set the traits and straighten the scopes - AI COURTIER VERSION
character_event = {
	id = selfmarriage.52
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		# add_trait = courting # Added only after first accepted gift
		FROM = {
			# save_event_target_as = suitor
			add_trait = courting
		}
		# 	if = { limit = { ROOT = { is_ruler = yes } }
		# 			ROOT = { save_event_target_as = fiancee } }
		# 	if = { limit = { ROOT = { is_ruler = no } }
		# 			ROOT = { save_event_target_as = fiancee }
		# 			liege = { save_event_target_as = fiancee_guardian } }
		FROM = {
			character_event = {
				id = selfmarriage.1001
			}
		}

	}
}
