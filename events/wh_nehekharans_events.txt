namespace = snehekharan

# Tomb Kings don't die. Ever.
character_event = {
	id = snehekharan.1
	desc = EVTDESCAsnehekharan1
	picture = GFX_evt_khemri_ruins
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.1 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan1
		add_trait = incapacitated
		hidden_tooltip = {
			if = {
				limit = {
					trait = king_settra
				}
				character_event = {
					id = snehekharan.2 days = 600 random = 2500
				}
			}
			if = {
				limit = {
					NOT = {
						trait = king_settra
					}
				}
				character_event = {
					id = snehekharan.2 days = 800 random = 7000
				}
			}
			any_realm_province = {
				limit = {
					owner = {
						character = ROOT
					}
					culture = nehekharan
				}
				add_province_modifier = {
					name = incapacitated_tomb_king
					duration = 9000
				}
			}
		}
	}
}

character_event = {
	id = snehekharan.2
	desc = EVTDESCAsnehekharan2
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.2 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan2
		remove_trait = incapacitated
		hidden_tooltip = {
			any_realm_province = {
				limit = {
					owner = {
						character = ROOT
					}
					culture = nehekharan
				}
				add_province_modifier = {
					name = rising_tomb_king
					duration = 50
				}
				remove_province_modifier = incapacitated_tomb_king
			}
		}
	}
}

# Graverobbers
# ROOT is attacker, FROM is province sieged
character_event = {
	id = snehekharan.3
	desc = EVTDESCsnehekharan3
	picture = GFX_evt_khemri_ruins
	is_triggered_only = yes

	trigger = {
		NOT = {
			trait = creature_nehekharan
		}
		any_war = {
			attacker = {
				character = ROOT
			}
			using_cb = desert_expedition
		}
		FROM = {
			location = {
				region = world_nehekhara
				culture = nehekharan
			}
		}
	}

	immediate = {
		log = "work event id = snehekharan.3 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan3
		if = {
			limit = {
				FROM = {
					owner = {
						top_liege = {
							NOT = {
								character = PREV
							}
						}
					}
				}
			}
			FROM = {
				owner = {
					top_liege = {
						character_event = {
							id = snehekharan.5
						}
					}
				}
			}
		}
		FROM = {
			owner = {
				character_event = {
					id = snehekharan.4
				}
			}
		}
		wealth = 75
		prestige = 50
		hidden_tooltip = {
			random = {
				chance = 25
				FROM = {
					destroy_random_building = yes
				}
			}
			random = {
				chance = 1
				ROOT = {
					character_event = {
						id = snehekharan.7 days = 1
					}
				}
			}
		}
	}
}

# undead owner notified
character_event = {
	id = snehekharan.4
	desc = EVTDESCasnehekharan4
	picture = GFX_evt_khemri_king
	is_triggered_only = yes
	only_playable = yes

	immediate = {
		log = "work event id = snehekharan.4 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan4
		opinion = {
			modifier = opinion_graverobbed_me
			who = FROM
		}
		ai_chance = {
			factor = 1
		}
	}
}

# undead liege notified
character_event = {
	id = snehekharan.5
	desc = EVTDESCsnehekharan5
	picture = GFX_evt_khemri_king
	is_triggered_only = yes
	only_playable = yes

	immediate = {
		log = "work event id = snehekharan.5 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan5
		opinion = {
			modifier = opinion_graverobbed_me
			who = FROM
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Graverobbers - great treasure
# ROOT is attacker, FROM is province sieged
character_event = {
	id = snehekharan.6
	desc = EVTDESCsnehekharan6
	picture = GFX_evt_khemri_ruins
	is_triggered_only = yes

	trigger = {
		any_war = {
			attacker = {
				character = ROOT
			}
			using_cb = desert_expedition
		}
		location = {
			region = world_nehekhara
		}
	}

	immediate = {
		log = "work event id = snehekharan.6 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan6
		if = {
			limit = {
				FROM = {
					owner = {
						top_liege = {
							NOT = {
								character = PREV
							}
						}
					}
				}
			}
			FROM = {
				owner = {
					top_liege = {
						character_event = {
							id = snehekharan.5
						}
					}
				}
			}
		}
		FROM = {
			owner = {
				character_event = {
					id = snehekharan.4
				}
			}
		}
		wealth = 250
		prestige = 150
		hidden_tooltip = {
			random = {
				chance = 75
				FROM = {
					destroy_random_building = yes
				}
			}
			random = {
				chance = 15
				ROOT = {
					character_event = {
						id = snehekharan.7 days = 1
					}
				}
			}
		}
	}
}

# tomb rot
character_event = {
	id = snehekharan.7
	desc = EVTDESCsnehekharan7
	picture = GFX_evt_khemri_king
	is_triggered_only = yes
	only_playable = yes

	trigger = {
		is_undead_trigger = no
	}

	immediate = {
		log = "work event id = snehekharan.7 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan7
		add_trait = has_tomb_rot
 		siege = {
 			morale = -0.01
 			troops = -0.025
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Claimant
character_event = {
	id = snehekharan.8
	# desc = EVTDESCsnehekharan8
	# picture = GFX_evt_khemri_king
	hide_window = yes
	min_age = 16
 	capable_only = yes
	prisoner = no
	is_triggered_only = yes

	trigger = {
		trait = khemri_tomb_king
		liege = {
			trait = khemri_tomb_king
		}
		NOT = {
			liege = {
				primary_title = {
					ROOT = {
						has_claim = PREV
					}
				}
			}
		}
	}

	immediate = {
		log = "work event id = snehekharan.8 for [Root.GetBestName]"
		liege = {
			primary_title = {
				add_claim = ROOT
			}
		}
	}
}

# An ambitious landless Tomb King begins to plan an adventure for taking back a piece of Nehekhara
character_event = {
	id = snehekharan.9
	hide_window = yes
	min_age = 16
	capable_only = yes
	prisoner = no

	trigger = {
		has_dlc = "The Old Gods"
		is_ruler = no
		trait = khemri_tomb_king
		any_claim = {
			has_holder = yes
			holder_scope = {
				independent = yes # Only do this vs independent rulers
				OR = {
					is_merchant_republic = no
					NOT = {
						capital_holding = {
							de_jure_liege_or_above = PREVPREV
						}
					}
				}
			}
			OR = {
				tier = KING
				holder_scope = {
					tier = PREV
				}
			}
		}
		NOT = {
			# Somewhat clunky way of checking that the character does not stand to inherit any titles
			any_heir_title = {
				always = yes
			}
		}
		diplomacy = 7
		health = 2
		NOT = {
			trait = content
		}
		NOT = {
			trait = craven
		}
		NOT = {
			has_character_modifier = planning_claimant_adventure
		}
	}

	mean_time_to_happen = {
		years = 50
		modifier = {
			factor = 0.2
			has_character_flag = flag_denied_title
		}
		modifier = {
			factor = 0.5
			trait = ambitious
		}
		modifier = {
			factor = 0.2
			has_character_flag = demon_child_non_pagan
		}
		modifier = {
			factor = 0.5
			trait = envious
		}
		modifier = {
			factor = 0.75
			diplomacy = 12
		}
		modifier = {
			factor = 0.75
			trait = brave
		}
		modifier = {
			factor = 0.75
			trait = born_in_the_purple
		}
		modifier = {
			factor = 0.85
			trait = proud
		}
		modifier = {
			factor = 1.5
			trait = slothful
		}
		modifier = {
			factor = 1.5
			trait = humble
		}
		modifier = {
			factor = 2.0
			trait = kind
		}
	}

	immediate = {
		log = "work event id = snehekharan.9 for [Root.GetBestName]"
		random_claim = {
			limit = {
				has_holder = yes
				holder_scope = {
					independent = yes # Only do this vs independent rulers
					OR = {
						# Don't target a liege unless I am ambitious
						NOT = {
							is_vassal_or_below = ROOT
						}
						ROOT = {
							trait = ambitious
						}
					}
					OR = {
						is_merchant_republic = no
						NOT = {
							capital_holding = {
								de_jure_liege_or_above = PREVPREV
							}
						}
					}
				}
			}
			holder_scope = {
				reverse_opinion = {
					who = ROOT
					years = 3
					modifier = opinion_claimant_adventure_target
				}
				character_event = {
					id = TOG.1201 # Warn the target
				}
			}
			ROOT = {
				add_character_modifier = {
					name = planning_claimant_adventure
					hidden = yes
					days = 730
				}
				character_event = {
					id = TOG.1202 # Fire the attack
					days = 730
				}
			}
		}
		if = {
			limit = {
				trait = in_hiding
			}
			remove_trait = in_hiding
			add_character_modifier = {
				name = went_out_of_hiding_timer
				duration = 180
				hidden = yes
			}
			hidden_tooltip = {
				character_event = {
					id = CM.6400
				}
			} # Notify plotters and family
		}
		set_character_flag = do_not_disturb
		character_event = {
			id = TOG.1215 days = 730
		}
	}
}

# Nehekharan prisoners give tomb rot to their jailers
character_event = {
	id = snehekharan.12
	desc = EVTDESCsnehekharan12
	picture = GFX_evt_khemri_king
	min_age = 16
 	mean_time_to_happen = {
		years = 70
	}

	trigger = {
		trait = khemri_tomb_king
		prisoner = yes
		host = {
			nor = {
				trait = creature_nehekharan
				trait = has_tomb_rot
			}
		}
	}

	immediate = {
		log = "work event id = snehekharan.12 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan12
		host = {
			character_event = {
				id = snehekharan.13
			}
		}
	}
}

# Nehekharan prisoners give tomb rot to their jailers
character_event = {
	id = snehekharan.13
	desc = EVTDESCsnehekharan13
	picture = GFX_evt_khemri_king
 	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.13 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan13
		add_trait = has_tomb_rot
	}
}

# Tomb Kings escape eventually from other Tomb Kings
character_event = {
	id = snehekharan.14
	desc = EVTDESCsnehekharan14
	picture = GFX_evt_khemri_king
	min_age = 16
 	mean_time_to_happen = {
		years = 54
	}

	trigger = {
		trait = khemri_tomb_king
		prisoner = yes
		host = {
			trait = creature_nehekharan
		}
	}

	immediate = {
		log = "work event id = snehekharan.14 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan14
		host = {
			character_event = {
				id = snehekharan.15
			}
		}
	}
}

# Tomb King escaped
character_event = {
	id = snehekharan.15
	desc = EVTDESCsnehekharan15
	picture = GFX_evt_khemri_king
 	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.15 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan15
		FROM = {
			prisoner = no
		}
	}
}

# Nehekka tribe rises up (temporary rebel title created, with a leader and a war)
# Triggered from "on_rebel_revolt"
province_event = {
	id = snehekharan.16
	desc = EVTDESCsnehekharan16
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	trigger = {
		OR = {
			has_province_modifier = nomad_unrest
			has_province_flag = nomad_horde_inv
			AND = {
				culture = nehekka
				owner = {
					NOT = {
						culture = nehekka
					}
				}
			}
		}
		NOT = {
			# Not if there is already an ongoing nomadic uprising for this province
			owner = {
				top_liege = {
					war = yes
					any_war = {
						defender = {
							character = PREV
						}
						using_cb = liberation_revolt
						war_title = ROOT # The county
					}
				}
			}
		}
	}

	immediate = {
		log = "work event id = snehekharan.16 for [Root.GetBestName]"
		clr_province_flag = nomad_horde_inv
		random_list = {
			65 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = atruhayid
					culture = nehekka
					female = no
					age = 23
					attributes = {
						martial = 7
					}
					trait = creature_human
					trait = tough_soldier
				}
			}
			20 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = atruhayid
					culture = nehekka
					female = no
					age = 26
					attributes = {
						martial = 9
					}
					trait = creature_human
					trait = brilliant_strategist
				}
			}
			5 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = atruhayid
					culture = nehekka
					female = no
					age = 33
					attributes = {
						martial = 9
						intrigue = 5
					}
					trait = creature_human
					trait = misguided_warrior
				}
			}
			5 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = atruhayid
					culture = nehekka
					female = no
					age = 43
					attributes = {
						diplomacy = 5
						martial = 9
					}
					trait = creature_human
					trait = misguided_warrior
					trait = strong
				}
			}
			5 = {
				create_character = {
					random_traits = yes
					dynasty = none
					religion = atruhayid
					culture = nehekka
					female = no
					age = 17
					attributes = {
						learning = 5
						martial = 9
					}
					trait = creature_human
					trait = intricate_webweaver
					trait = quick
				}
			}
		}
		new_character = {
			create_title = {
				tier = DUKE
				landless = yes
				temporary = yes
				rebel = yes
				culture = nehekka
				name = "NOMAD_UPRISING"
				holder = THIS
			}
			random_list = {
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.95
						troops = {
 							light_cavalry = {
								10 10
							}
 							horse_archers = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
 								light_cavalry = {
									10 10
								}
 								horse_archers = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
 								light_cavalry = {
									10 10
								}
 								horse_archers = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
 							light_cavalry = {
								10 10
							}
 							horse_archers = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
 								light_cavalry = {
									10 10
								}
 								horse_archers = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
 								light_cavalry = {
									10 10
								}
 								horse_archers = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.95
						troops = {
 							light_cavalry = {
								10 10
							}
 							horse_archers = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
 								light_cavalry = {
									10 10
								}
 								horse_archers = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.95
							troops = {
 								light_cavalry = {
									10 10
								}
 								horse_archers = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
 							light_cavalry = {
								10 10
							}
 							horse_archers = {
								4 4
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
 								light_cavalry = {
									10 10
								}
 								horse_archers = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
 								light_cavalry = {
									10 10
								}
 								horse_archers = {
									4 4
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				16 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.75
						troops = {
 							light_cavalry = {
								10 10
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.75
							troops = {
 								light_cavalry = {
									10 10
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.75
							troops = {
 								light_cavalry = {
									10 10
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
				17 = {
					spawn_unit = {
						province = ROOT
						home = ROOT
						owner = THIS
						leader = THIS
						scaled_by_biggest_garrison = 0.5
						troops = {
 							light_cavalry = {
								10 10
							}
						}
						attrition = 1.0
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 30
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
 								light_cavalry = {
									10 10
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
					create_character = {
						random_traits = yes
						dynasty = none
						religion = THIS
						culture = THIS
						female = no
						age = 31
						trait = creature_human
						trait = tough_soldier
					}
					new_character = {
						spawn_unit = {
							province = ROOT
							home = ROOT
							owner = PREV
							scaled_by_biggest_garrison = 0.5
							troops = {
 								light_cavalry = {
									10 10
								}
							}
							attrition = 1.0
							disband_on_peace = yes
						}
					}
				}
			}
			# DoW on the province top liege
			ROOT = {
				owner = {
					top_liege = {
						reverse_war = {
							target = PREVPREVPREV
							casus_belli = liberation_revolt
							thirdparty_title = ROOT # The county
						}
						reverse_opinion = {
							who = PREVPREVPREV
							modifier = opinion_evil_tyrant
						}
					}
				}
			}
		}
		owner = {
			any_liege = {
				# Inform the lieges
				character_event = {
					id = snehekharan.17
				}
			}
		}
	}

	option = {
		name = "EVTOPTAsnehekharan16"
	}
}

# Liege notified
character_event = {
	id = snehekharan.17
	desc = EVTDESCsnehekharan17
	picture = GFX_evt_moors
	border = GFX_event_normal_frame_war
 	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.17 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan17
	}
}

# Tribe of nomads appears in Nehekhara
province_event = {
	id = snehekharan.18
	desc = EVTDESCsnehekharan18
	picture = GFX_evt_moors

	trigger = {
		OR = {
			owner = {
				trait = creature_nehekharan
			}
			region = world_nehekhara
		}
		NOT = {
			culture = nehekka
		}
		owner = {
			NOT = {
				trait = creature_orc
			}
			NOT = {
				trait = creature_goblin
			}
			NOT = {
				trait = creature_beastman
			}
		}
		NOT = {
			has_province_modifier = nomad_presence
		}
		NOT = {
			has_province_flag = denied_nomads
		}
	}

	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 15
			culture = nehekharan
		}
		modifier = {
			factor = 100
			owner = {
				trait = creature_nehekharan
			}
			culture = nehekharan
			NOT = {
				any_neighbor_province = {
					NOT = {
						culture = nehekharan
					}
				}
			} # more on the borders
		}
		modifier = {
			factor = 0
			owner = {
				trait = creature_nehekharan
			}
			culture = nehekharan
			owner = {
				any_demesne_province = {
					has_province_modifier = nomad_presence
					count = 2
				}
			} # do not saturate
		}
		modifier = {
			factor = 0.5
			culture = orc_main
		}
		modifier = {
			factor = 0.5
			culture = orc_savage
		}
		modifier = {
			factor = 0.5
			culture = goblin_main
		}
		modifier = {
			factor = 0.5
			culture = goblin_night
		}
		modifier = {
			factor = 0.5
			culture = goblin_forest
		}
		modifier = {
			factor = 0.25
			culture = beastman_main
		}
		modifier = {
			factor = 0.15
			owner = {
				over_max_demesne_size = 3
			}
		}
	}

	immediate = {
		log = "work event id = snehekharan.18 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan18
		add_province_modifier = {
			name = nomad_presence
			duration = -1
		}
		if = {
			limit = {
				OR = {
					culture = beastman_main
					culture = goblin_main
					culture = goblin_night
					culture = goblin_forest
					culture = orc_main
					culture = orc_savage
				}
			}
			culture = nehekka
			random_list = {
				80 = {
					religion = atruhayid
				}
				20 = {
					religion = nehekharan_gods
				}
			}
			if = {
				limit = {
					has_province_modifier = greenskin_population_bad
				}
				remove_province_modifier = greenskin_population_bad
			}
		}
	}

	option = {
		name = EVTOPTBsnehekharan18
		hidden_tooltip = {
			random = {
				chance = 10
				remove_province_modifier = nomad_presence
				add_province_modifier = {
					name = nomad_unrest
					duration = 1250
				}
			}
		}
	}

	option = {
		name = EVTOPTCsnehekharan18
		trigger = {
			owner = {
				ai = no
			}
		}
		hidden_tooltip = {
			set_province_flag = denied_nomads
			random = {
				chance = 10
				remove_province_modifier = nomad_presence
				add_province_modifier = {
					name = nomad_unrest
					duration = 1250
				}
			}
		}
	}
}

# Tribe asks for settlements
province_event = {
	id = snehekharan.19
	desc = EVTDESCsnehekharan19
	picture = GFX_evt_moors

	trigger = {
		OR = {
			culture = nehekka
			has_province_modifier = nomad_presence
		}
	}

	mean_time_to_happen = {
		years = 10
		modifier = {
			factor = 15
			culture = nehekharan
		}
		modifier = {
			factor = 15
			is_capital = yes
		}
		modifier = {
			factor = 0.5
			culture = orc_main
		}
		modifier = {
			factor = 0.5
			culture = orc_savage
		}
		modifier = {
			factor = 0.5
			culture = goblin_main
		}
		modifier = {
			factor = 0.5
			culture = goblin_night
		}
		modifier = {
			factor = 0.5
			culture = goblin_forest
		}
		modifier = {
			factor = 0.25
			culture = beastman_main
		}
		modifier = {
			factor = 0.15
			owner = {
				over_max_demesne_size = 3
			}
		}
	}

	immediate = {
		log = "work event id = snehekharan.19 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTZsnehekharan19
		trigger = {
			NOT = {
				is_capital = yes
				culture = nehekharan
			}
			owner = {
				trait = creature_nehekharan
				higher_tier_than = COUNT
			}
		}
		hidden_tooltip = {
			random_list = {
				80 = {
					culture = nehekka
					religion = atruhayid
					county = {
						set_title_flag = move_to_nomad
					}
					create_character = {
						random_traits = yes
						dynasty = RANDOM
						religion = atruhayid
						culture = nehekka
						female = no
					}
					new_character = {
						add_trait = creature_human
						character_event = {
							id = snehekharan.20
						}
					}
				}
				20 = {
					culture = nehekka
					religion = atruhayid
					county = {
						set_title_flag = move_to_nomad
					}
					create_character = {
						random_traits = yes
						dynasty = RANDOM
						religion = nehekharan_gods
						culture = nehekka
						female = no
					}
					new_character = {
						add_trait = creature_human
						character_event = {
							id = snehekharan.20
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 80
		}
	}

	option = {
		name = EVTOPTAsnehekharan19
		trigger = {
			owner = {
				wealth = 50
			}
		}
		owner = {
			wealth = -50
		}
		ai_chance = {
			factor = 20
		}
	}

	option = {
		name = EVTOPTBsnehekharan19
		hidden_tooltip = {
			random = {
				chance = 50
				random_demesne_province = {
					limit = {
						has_province_modifier = nomad_presence
					}
					remove_province_modifier = nomad_presence
					add_province_modifier = {
						name = nomad_unrest
						duration = 1250
					}
				}
			}
		}
	}
}

character_event = {
	id = snehekharan.20
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.20 for [Root.GetBestName]"
		FROM = {
			owner = {
				any_demesne_title = {
					limit = {
						has_title_flag = move_to_nomad
					}
					grant_title = ROOT
					clr_title_flag = move_to_nomad
				}
			}
		} # give main title
		prestige = 50
	}
}

# THE LIVING VASSALS
# The Living Vassals - peasants scared of nehekharan soldiers standing in the fields
character_event = {
	id = snehekharan.21
	desc = EVTDESCsnehekharan21
	picture = GFX_evt_khemri
	is_triggered_only = yes
	only_playable = yes
	min_age = 14
	prisoner = no
	capable_only = yes

	trigger = {
		independent = no
		NOT = {
			has_character_flag = nehekharan_staring_evt
		}
		is_undead_trigger = no
		liege = {
			trait = creature_nehekharan
			nor = {
				trait = incapable
				trait = incapacitated
			}
			prisoner = no
		}
	}

	weight_multiplier = {
 		factor = 1
		modifier = {
			factor = 1.25
			liege = {
				trait = cruel
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = slothful
			}
		}
		modifier = {
			factor = 1.75
			liege = {
				trait = lunatic_3
			}
		}
		modifier = {
			factor = 1.5
			liege = {
				trait = lunatic_2
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = lunatic_1
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = khemri_mask
			}
		}
		modifier = {
			factor = 1.25
			trait = brave
		}
		modifier = {
			factor = 1.25
			trait = greedy
		}
	}

	immediate = {
		log = "work event id = snehekharan.21 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan21
		liege = {
			character_event = {
				id = snehekharan.22
			}
		}
		set_character_flag = nehekharan_staring_evt
		ai_chance = {
			factor = 90
		}
	}

	option = {
		name = EVTOPTBsnehekharan21
		random = {
			chance = 50
			capital_scope = {
				add_province_modifier = {
					name = scared_subjects
					duration = 720
				}
			}
		}
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				trait = brave
			}
			modifier = {
				factor = 5
				trait = craven
			}
			modifier = {
				factor = 2
				trait = shy
			}
		}
	}
}

# A living subject complains about soldiers standing
character_event = {
	id = snehekharan.22
	desc = EVTDESCsnehekharan22
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.22 for [Root.GetBestName]"
	}

	option = {
		# have the soldiers fall back
		name = EVTOPTAsnehekharan22
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.23 days = 5 random = 7
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}

	option = {
		# have the soldiers reassure the people
		name = EVTOPTBsnehekharan22
		hidden_tooltip = {
			random_list = {
				85 = {
					FROM = {
						character_event = {
							id = snehekharan.24 days = 5 random = 7
						}
					}
				}
				15 = {
					FROM = {
						character_event = {
							id = snehekharan.25 days = 5 random = 7
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}

	option = {
		# ignore the issue
		name = EVTOPTCsnehekharan22
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.26 days = 5 random = 7
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# Soldiers leave the countryside
character_event = {
	id = snehekharan.23
	desc = EVTDESCsnehekharan23
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.23 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan23
		opinion = {
			who = FROM
			modifier = opinion_grateful
			months = 24
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.23005
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Soldiers leave the countryside - Liege notified
character_event = {
	id = snehekharan.23005
	desc = EVTDESCsnehekharan23005
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.23005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan23005
		prestige = 50
		ai_chance = {
			factor = 1
		}
	}
}

# Soldiers scare the people off
character_event = {
	id = snehekharan.24
	desc = EVTDESCsnehekharan24
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.24 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan24
		opinion = {
			who = FROM
			modifier = opinion_terrified
			months = 24
		}
		capital_scope = {
			add_province_modifier = {
				name = scared_subjects
				duration = 720
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.24005
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Soldiers scare the people off - Liege notified
character_event = {
	id = snehekharan.24005
	desc = EVTDESCsnehekharan24005
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.24005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan24005
		prestige = -50
		ai_chance = {
			factor = 1
		}
	}
}

# Soldiers bond with the people
character_event = {
	id = snehekharan.25
	desc = EVTDESCsnehekharan25
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.25 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan25
		opinion = {
			who = FROM
			modifier = opinion_grateful
			months = 24
		}
		capital_scope = {
			add_province_modifier = {
				name = friendly_undead
				duration = 720
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.25005
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Soldiers bond with the people - Liege notified
character_event = {
	id = snehekharan.25005
	desc = EVTDESCsnehekharan25005
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.25005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan25005
		prestige = 75
		ai_chance = {
			factor = 1
		}
	}
}

# Soldiers keep staring
character_event = {
	id = snehekharan.26
	desc = EVTDESCsnehekharan26
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.26 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan26
		random = {
			chance = 50
			capital_scope = {
				add_province_modifier = {
					name = scared_subjects
					duration = 720
				}
			}
		}
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.26005
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Soldiers keep staring - Liege notified
character_event = {
	id = snehekharan.26005
	desc = EVTDESCsnehekharan26005
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.26005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan26005
		prestige = -25
		ai_chance = {
			factor = 1
		}
	}
}

# Kid ruler is scared by undead ruler
character_event = {
	id = snehekharan.27
	desc = EVTDESCsnehekharan27
	picture = GFX_evt_khemri_king
	is_triggered_only = yes
	only_playable = yes
	min_age = 4
	max_age = 11
	capable_only = yes
	prisoner = no

	trigger = {
		independent = no
		NOT = {
			has_character_flag = nehekharan_kid_evt
		}
		is_undead_trigger = no
		liege = {
			trait = creature_nehekharan
			nor = {
				trait = incapable
				trait = incapacitated
			}
			prisoner = no
		}
	}

	weight_multiplier = {
 		factor = 1
		modifier = {
			factor = 1.25
			liege = {
				trait = cruel
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = slothful
			}
		}
		modifier = {
			factor = 1.75
			liege = {
				trait = lunatic_3
			}
		}
		modifier = {
			factor = 1.5
			liege = {
				trait = lunatic_2
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = lunatic_1
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = khemri_mask
			}
		}
		modifier = {
			factor = 1.25
			trait = brave
		}
		modifier = {
			factor = 1.25
			trait = gregarious
		}
	}

	immediate = {
		log = "work event id = snehekharan.27 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan27
		set_character_flag = nehekharan_kid_evt
		liege = {
			character_event = {
				id = snehekharan.28
			}
		}
		ai_chance = {
			factor = 80
		}
	}

	option = {
		name = EVTOPTBsnehekharan27
		random = {
			chance = 15
			add_trait = craven
		}
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0.5
				liege = {
					trait = khemri_mask
				}
			}
			modifier = {
				factor = 0
				trait = brave
			}
			modifier = {
				factor = 0.75
				trait = gregarious
			}
		}
	}
}

# A strange small person comes to court
character_event = {
	id = snehekharan.28
	desc = EVTDESCsnehekharan28
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.28 for [Root.GetBestName]"
	}

	option = {
		# speak to the halfling
		name = EVTOPTAsnehekharan28
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.29
				}
			}
		}
		ai_chance = {
			factor = 80
		}
	}

	option = {
		# ignore the halfling
		name = EVTOPTBsnehekharan28
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.33
				}
			}
		}
		ai_chance = {
			factor = 20
		}
	}
}

# The undead speaks to you
character_event = {
	id = snehekharan.29
	desc = EVTDESCsnehekharan29
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.29 for [Root.GetBestName]"
	}

	option = {
		# speak back
		name = EVTOPTAsnehekharan29
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.30
				}
			}
			random = {
				chance = 50
				add_trait = gregarious
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0.25
				trait = shy
			}
			modifier = {
				factor = 1.5
				trait = brave
			}
			modifier = {
				factor = 1.75
				trait = gregarious
			}
		}
	}

	option = {
		# bash it
		name = EVTOPTBsnehekharan29
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.31
				}
			}
			random = {
				chance = 50
				add_trait = brave
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 0.25
				trait = shy
			}
			modifier = {
				factor = 1.75
				trait = brave
			}
			modifier = {
				factor = 1.25
				trait = cruel
			}
		}
	}

	option = {
		# run
		name = EVTOPTCsnehekharan29
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.32
				}
			}
			random = {
				chance = 25
				add_trait = craven
			}
		}
		ai_chance = {
			factor = 33
			modifier = {
				factor = 1.5
				NOT = {
					liege = {
						trait = khemri_mask
					}
				}
			}
		}
	}
}

# Speaking with the kid
character_event = {
	id = snehekharan.30
	desc = EVTDESCsnehekharan30
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.30 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan30
		hidden_tooltip = {
			change_diplomacy = 1
			FROM = {
				character_event = {
					id = snehekharan.30005
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Speaking with the undead
character_event = {
	id = snehekharan.30005
	desc = EVTDESCsnehekharan30005
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.30005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan30005
		prestige = 25
		ai_chance = {
			factor = 1
		}
	}
}

# The kid runs off with a rib
character_event = {
	id = snehekharan.31
	desc = EVTDESCsnehekharan31
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.31 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan31
		hidden_tooltip = {
			change_martial = 1
			FROM = {
				character_event = {
					id = snehekharan.31005
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Bashing the undead
character_event = {
	id = snehekharan.31005
	desc = EVTDESCsnehekharan31005
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.31005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan31005
		prestige = 50
		ai_chance = {
			factor = 1
		}
	}
}

# The kid runs off
character_event = {
	id = snehekharan.32
	desc = EVTDESCsnehekharan32
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.32 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan32
		hidden_tooltip = {
			change_intrigue = 1
			FROM = {
				character_event = {
					id = snehekharan.32005
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Running from the undead
character_event = {
	id = snehekharan.32005
	desc = EVTDESCsnehekharan32005
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.32005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan32005
		prestige = -50
		ai_chance = {
			factor = 1
		}
	}
}

# The undead ignored you
character_event = {
	id = snehekharan.33
	desc = EVTDESCsnehekharan33
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.33 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan33
		prestige = -25
		ai_chance = {
			factor = 1
		}
	}
}

# There's no water
character_event = {
	id = snehekharan.34
	desc = EVTDESCsnehekharan34
	picture = GFX_evt_khemri
	is_triggered_only = yes
	only_playable = yes
	min_age = 15
	culture = nehekka
	prisoner = no
	capable_only = yes

	trigger = {
		independent = no
		NOT = {
			has_character_flag = nehekharan_water_evt
		}
		is_undead_trigger = no
		liege = {
			trait = creature_nehekharan
			nor = {
				trait = incapable
				trait = incapacitated
			}
			prisoner = no
		}
	}

	weight_multiplier = {
 		factor = 1
		modifier = {
			factor = 1.25
			liege = {
				trait = cruel
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = slothful
			}
		}
		modifier = {
			factor = 1.75
			liege = {
				trait = lunatic_3
			}
		}
		modifier = {
			factor = 1.5
			liege = {
				trait = lunatic_2
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = lunatic_1
			}
		}
		modifier = {
			factor = 1.25
			liege = {
				trait = khemri_mask
			}
		}
		modifier = {
			factor = 1.25
			trait = brave
		}
		modifier = {
			factor = 1.25
			trait = gregarious
		}
	}

	immediate = {
		log = "work event id = snehekharan.34 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan34
		set_character_flag = nehekharan_water_evt
		liege = {
			character_event = {
				id = snehekharan.35
			}
		}
		ai_chance = {
			factor = 80
		}
	}

	option = {
		name = EVTOPTBsnehekharan34
		random = {
			chance = 5
			add_trait = shy
		}
		ai_chance = {
			factor = 20
		}
	}
}

# The living want to wet themselves for some reason
character_event = {
	id = snehekharan.35
	desc = EVTDESCsnehekharan35
	picture = GFX_evt_khemri
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.35 for [Root.GetBestName]"
	}

	option = {
		# send for water
		name = EVTOPTAsnehekharan35
		trigger = {
			wealth = 75
		}
		wealth = -75
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.36 days = 4
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}

	option = {
		# ignore request
		name = EVTOPTBsnehekharan35
		hidden_tooltip = {
			FROM = {
				character_event = {
					id = snehekharan.36005 days = 4
				}
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# The undead gave water
character_event = {
	id = snehekharan.36
	desc = EVTDESCsnehekharan36
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.36 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan36
		opinion = {
			who = FROM
			modifier = opinion_grateful
			months = 24
		}
		random = {
			chance = 40
			capital_scope = {
				add_province_modifier = {
					name = friendly_undead
					duration = 720
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# The undead ignored you
character_event = {
	id = snehekharan.36005
	desc = EVTDESCsnehekharan36005
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.36005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan36005
		opinion = {
			who = FROM
			modifier = opinion_terrified
			months = 24
		}
		capital_scope = {
			add_province_modifier = {
				name = scared_subjects
				duration = 720
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# UNDEAD LIFE
# Why does the food taste like ashes?
character_event = {
	id = snehekharan.37
	desc = EVTDESCsnehekharan37
	picture = GFX_evt_khemri_king
	is_triggered_only = yes
	only_playable = yes
	min_age = 350
	culture = nehekka
	prisoner = no
	capable_only = yes

	trigger = {
		NOT = {
			trait = incapacitated
		}
		NOT = {
			has_character_flag = nehekharan_food_evt
		}
		trait = creature_nehekharan
		OR = {
			trait = hedonist
			trait = drunkard
			trait = gluttonous
			trait = addict
		}
	}

	weight_multiplier = {
 		factor = 1
		modifier = {
			factor = 1.5
			trait = hedonist
		}
		modifier = {
			factor = 1.25
			trait = gluttonous
		}
		modifier = {
			factor = 1.25
			trait = drunkard
		}
		modifier = {
			factor = 1.25
			trait = addict
		}
		modifier = {
			factor = 0.5
			NOT = {
				age = 900
			}
		}
		modifier = {
			factor = 1.25
			trait = gregarious
		}
	}

	immediate = {
		log = "work event id = snehekharan.37 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan37
		set_character_flag = nehekharan_food_evt
		hidden_tooltip = {
			random = {
				chance = 30
				add_trait = wroth
			}
		}
		ai_chance = {
			factor = 50
		}
	}

	option = {
		name = EVTOPTBsnehekharan37
		set_character_flag = nehekharan_food_evt
		hidden_tooltip = {
			random = {
				chance = 20
				add_trait = depressed
			}
		}
		ai_chance = {
			factor = 50
		}
	}
}

# You want to revive the living's ways
character_event = {
	id = snehekharan.38
	desc = {
		text = EVTDESCAsnehekharan38
		trigger = {
			NOT = {
				is_female = yes
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan38
		trigger = {
			is_female = yes
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes
	min_age = 350

	trigger = {
		NOT = {
			trait = incapable
		}
		NOT = {
			has_character_flag = nehekharan_lust_evt
		}
		NOT = {
			trait = incapacitated
		}
		NOT = {
			trait = celibate
		}
		prisoner = no
		trait = creature_nehekharan
		any_spouse = {
			trait = creature_nehekharan
			is_alive = yes
			NOT = {
				trait = incapable
			}
			NOT = {
				trait = incapacitated
			}
			prisoner = no
		} # Right...

	}

	weight_multiplier = {
 		factor = 1
		modifier = {
			factor = 1.5
			trait = lustful
		}
		modifier = {
			factor = 1.5
			trait = seducer
		}
		modifier = {
			factor = 1.5
			trait = seductress
		}
		modifier = {
			factor = 0.25
			trait = chaste
		}
		modifier = {
			factor = 0.5
			NOT = {
				age = 900
			}
		}
		modifier = {
			factor = 1.25
			trait = gregarious
		}
	}

	immediate = {
		log = "work event id = snehekharan.38 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan38
		set_character_flag = nehekharan_lust_evt
		spouse = {
			character_event = {
				id = snehekharan.40
			}
		}
		ai_chance = {
			factor = 80
		}
	}

	option = {
		name = EVTOPTBsnehekharan38
		ai_chance = {
			factor = 20
			modifier = {
				factor = 0
				trait = lustful
			}
		}
	}
}

# Missing 39 - It never existed
# Your spouse wants to revive the living's ways
character_event = {
	id = snehekharan.40
	desc = {
		text = EVTDESCAsnehekharan40
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan40
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.40 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan40
		FROM = {
			character_event = {
				id = snehekharan.42
			}
		}
		ai_chance = {
			factor = 50
		}
	}

	option = {
		# Useless ideas
		name = EVTOPTBsnehekharan40
		FROM = {
			character_event = {
				id = snehekharan.41
			}
		}
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				trait = lustful
			}
			modifier = {
				factor = 1.5
				trait = chaste
			}
			modifier = {
				factor = 1.5
				trait = shy
			}
		}
	}
}

# Your spouse doesn't want to partake
character_event = {
	id = snehekharan.41
	desc = {
		text = EVTDESCAsnehekharan41
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan41
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.41 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan41
		opinion = {
			who = FROM
			modifier = opinion_angry
			months = 240
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Try it out
character_event = {
	id = snehekharan.42
	desc = {
		text = EVTDESCAsnehekharan42
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan42
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.42 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan42
		hidden_tooltip = {
			random_list = {
				# awkward
				50 = {
					FROM = {
						character_event = {
							id = snehekharan.43
						}
					}
				}
				# traumatizing
				45 = {
					FROM = {
						character_event = {
							id = snehekharan.44
						}
					}
				}
				# surprisingly well
				5 = {
					FROM = {
						character_event = {
							id = snehekharan.45
						}
					}
				}
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Awkward experience
character_event = {
	id = snehekharan.43
	desc = {
		text = EVTDESCAsnehekharan43
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan43
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.43 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan43
		opinion = {
			who = FROM
			modifier = opinion_embarrassed
			months = 240
		}
		FROM = {
			character_event = {
				id = snehekharan.43005
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

character_event = {
	id = snehekharan.43005
	desc = {
		text = EVTDESCAsnehekharan43005
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan43005
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.43005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan43005
		opinion = {
			who = FROM
			modifier = opinion_embarrassed
			months = 240
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Horrible experience
character_event = {
	id = snehekharan.44
	desc = {
		text = EVTDESCAsnehekharan44
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan44
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.44 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan44
		opinion = {
			who = FROM
			modifier = opinion_disgusted
			months = 480
		}
		hidden_tooltip = {
			random = {
				chance = 75
				remove_trait = lustful
				add_trait = celibate
			}
		}
		FROM = {
			character_event = {
				id = snehekharan.44005
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

character_event = {
	id = snehekharan.44005
	desc = {
		text = EVTDESCAsnehekharan44005
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan44005
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.44005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan44005
		opinion = {
			who = FROM
			modifier = opinion_disgusted
			months = 480
		}
		hidden_tooltip = {
			random = {
				chance = 75
				remove_trait = lustful
				add_trait = celibate
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Interesting experience
character_event = {
	id = snehekharan.45
	desc = {
		text = EVTDESCAsnehekharan45
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan45
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.45 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan45
		random = {
			chance = 40
			change_diplomacy = 1
		}
		opinion = {
			who = FROM
			modifier = opinion_pleased
			months = 360
		}
		FROM = {
			character_event = {
				id = snehekharan.45005
			}
		}
		ai_chance = {
			factor = 1
		}
	}
}

character_event = {
	id = snehekharan.45005
	desc = {
		text = EVTDESCAsnehekharan45005
		trigger = {
			FROM = {
				NOT = {
					is_female = yes
				}
			}
		}
	}
	desc = {
		text = EVTDESCBsnehekharan45005
		trigger = {
			FROM = {
				is_female = yes
			}
		}
	}
	picture = GFX_evt_khemri_king
	is_triggered_only = yes

	immediate = {
		log = "work event id = snehekharan.45005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTAsnehekharan45005
		random = {
			chance = 40
			change_diplomacy = 1
		}
		opinion = {
			who = FROM
			modifier = opinion_pleased
			months = 360
		}
		ai_chance = {
			factor = 1
		}
	}
}

# Incapacitated Province no longer under incapacitated ruler
province_event = {
	id = snehekharan.46
	# desc = EVTDESCAsnehekharan46
	# picture = GFX_evt_khemri_king
	hide_window = yes

	trigger = {
		owner = {
			NOT = {
				trait = incapacitated
			}
		}
		has_province_modifier = incapacitated_tomb_king
	}

	mean_time_to_happen = {
		months = 5
	}

	immediate = {
		log = "work event id = snehekharan.46 for [Root.GetBestName]"
		remove_province_modifier = incapacitated_tomb_king
	}
}

# New Province acquired by incapacitated ruler
province_event = {
	id = snehekharan.47
	# desc = EVTDESCAsnehekharan47
	# picture = GFX_evt_khemri_king
	hide_window = yes

	trigger = {
		owner = {
			trait = creature_nehekharan
			trait = incapacitated
		}
		NOT = {
			has_province_modifier = incapacitated_tomb_king
		}
	}

	mean_time_to_happen = {
		months = 5
	}

	immediate = {
		log = "work event id = snehekharan.47 for [Root.GetBestName]"
		remove_province_modifier = incapacitated_tomb_king
		add_province_modifier = {
			name = incapacitated_tomb_king
			duration = 9000
		}
	}
}
