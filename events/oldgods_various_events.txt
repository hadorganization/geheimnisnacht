

# THE OLD GODS
# - Various Events

# Written by Henrik Eklund
namespace = TOG

# Berserker Events
# Character becomes a Berserker in battle
character_event = {
	id = TOG.3000
	desc = EVTDESC_TOG_3000
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		OR = {
			religion = ulrican
			culture_group = norscan_group
		}
		is_alive = yes
		nor = {
			trait = berserker
			religion = khorne
		}
		OR = {
			NOT = {
				age = 50
			}
			immortal = yes
		}
		OR = {
			trait = wroth
			trait = aggressive_leader
		}
	}
	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic_1
				trait = lunatic_2
				trait = lunatic_3
			}
		}
		modifier = {
			factor = 1.5
			trait = possessed
		}
		modifier = {
			factor = 1.2
			trait = drunkard
		}
		modifier = {
			factor = 1.2
			trait = cruel
		}
		modifier = {
			is_strong_trigger = yes
			factor = 1.2
		}
		modifier = {
			factor = 0.5
			trait = craven
		}
		modifier = {
			is_weak_trigger = yes
			factor = 0.8
		}
		modifier = {
			factor = 0.7
			trait = stressed
		}
		modifier = {
			factor = 0.7
			trait = depressed
		}
		modifier = {
			factor = 0.8
			is_ill = yes
		}
		modifier = {
			factor = 0.8
			trait = kind
		}
		modifier = {
			factor = 0.5
			trait = infirm
		}
	}

	immediate = {
		log = "work event id = TOG.3000 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3000
		if = {
			limit = {
				trait = craven
			}
			remove_trait = craven
		}
		add_trait = berserker
	}
}

# Berserker is Maimed in battle
character_event = {
	id = TOG.3001
	desc = EVTDESC_TOG_3001
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		trait = berserker
		nor = {
			trait = maimed
			trait = one_legged
		}
		is_alive = yes
	}
	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 0.5
			trait = craven
		}
		modifier = {
			trait = clubfooted
			factor = 1.25
		}
		modifier = {
			trait = hunchback
			factor = 1.25
		}
		modifier = {
			trait = lisp
			factor = 1.1
		}
		modifier = {
			trait = stutter
			factor = 1.1
		}
		modifier = {
			trait = dwarf
			factor = 1.25
		}
		modifier = {
			trait = genius
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = quick
				trait = shrewd
			}
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = slow
				trait = dull
			}
			factor = 2.0
		}
		modifier = {
			trait = imbecile
			factor = 3.0
		}
		modifier = {
			trait = inbred
			factor = 3.0
		}
		modifier = {
			is_strong_trigger = yes
			factor = 0.7
		}
		modifier = {
			is_weak_trigger = yes
			factor = 2.5
		}
		modifier = {
			factor = 1.25
			trait = stressed
		}
		modifier = {
			factor = 1.25
			trait = depressed
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic_1
				trait = lunatic_2
				trait = lunatic_3
			}
		}
		modifier = {
			factor = 1.5
			trait = possessed
		}
		modifier = {
			factor = 1.1
			is_ill = yes
		}
		modifier = {
			factor = 1.25
			trait = pneumonic
		}
		modifier = {
			factor = 1.25
			trait = syphilitic
		}
		modifier = {
			factor = 2.0
			trait = leper
		}
		modifier = {
			factor = 1.15
			trait = wounded
		}
		modifier = {
			factor = 2.0
			trait = infirm
		}
		modifier = {
			factor = 3.0
			trait = incapable
		}
		modifier = {
			factor = 1.1
			trait = drunkard
		}
		modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}
		modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}
		modifier = {
			factor = 1.5
			trait = has_typhus
		}
		modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}
		modifier = {
			factor = 1.1
			trait = has_measles
		}
		modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	immediate = {
		log = "work event id = TOG.3001 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3001
		if = {
			limit = {
				NOT = {
					has_dlc = "Reapers"
				}
			}
			add_trait = maimed
			hidden_tooltip = {
				character_event = {
					id = 38281
				}
			}
		}
		if = {
			limit = {
				has_dlc = "Reapers"
			}
			add_trait = one_legged
			add_trait = severely_injured
			hidden_tooltip = {
				character_event = {
					id = RIP.11503
				} # Notify one-legged
				resolve_severely_injured_effect = yes
			}
		}
	}
}

# Berserker is Wounded in battle
character_event = {
	id = TOG.3002
	desc = EVTDESC_TOG_3002
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		trait = berserker
		nor = {
			trait = wounded
			is_maimed_trigger = yes
		}
		is_alive = yes
	}
	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 5
			has_character_modifier = proving_bravery
		}
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 0.5
			trait = craven
		}
		modifier = {
			trait = clubfooted
			factor = 1.25
		}
		modifier = {
			trait = hunchback
			factor = 1.25
		}
		modifier = {
			trait = lisp
			factor = 1.1
		}
		modifier = {
			trait = stutter
			factor = 1.1
		}
		modifier = {
			trait = dwarf
			factor = 1.25
		}
		modifier = {
			trait = genius
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = quick
				trait = shrewd
			}
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = slow
				trait = dull
			}
			factor = 2.0
		}
		modifier = {
			trait = imbecile
			factor = 3.0
		}
		modifier = {
			trait = inbred
			factor = 3.0
		}
		modifier = {
			is_strong_trigger = yes
			factor = 0.7
		}
		modifier = {
			is_weak_trigger = yes
			factor = 2.5
		}
		modifier = {
			factor = 1.25
			trait = stressed
		}
		modifier = {
			factor = 1.25
			trait = depressed
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic_1
				trait = lunatic_2
				trait = lunatic_3
			}
		}
		modifier = {
			factor = 1.5
			trait = possessed
		}
		modifier = {
			factor = 1.1
			is_ill = yes
		}
		modifier = {
			factor = 1.25
			trait = pneumonic
		}
		modifier = {
			factor = 1.25
			trait = syphilitic
		}
		modifier = {
			factor = 2.0
			trait = leper
		}
		modifier = {
			factor = 1.25
			is_maimed_trigger = yes
		}
		modifier = {
			factor = 2.0
			trait = infirm
		}
		modifier = {
			factor = 3.0
			trait = incapable
		}
		modifier = {
			factor = 1.1
			trait = drunkard
		}
		modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}
		modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}
		modifier = {
			factor = 1.5
			trait = has_typhus
		}
		modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}
		modifier = {
			factor = 1.1
			trait = has_measles
		}
		modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	immediate = {
		log = "work event id = TOG.3002 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3001
		add_trait = wounded
	}
}

# Berserker is Killed in battle
character_event = {
	id = TOG.3003
	desc = EVTDESC_TOG_3003
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		trait = berserker
	}
	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 0.5
			trait = craven
		}
		modifier = {
			trait = clubfooted
			factor = 1.25
		}
		modifier = {
			trait = hunchback
			factor = 1.25
		}
		modifier = {
			trait = lisp
			factor = 1.1
		}
		modifier = {
			trait = stutter
			factor = 1.1
		}
		modifier = {
			trait = dwarf
			factor = 1.25
		}
		modifier = {
			trait = genius
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = quick
				trait = shrewd
			}
			factor = 0.9
		}
		modifier = {
			OR = {
				trait = slow
				trait = dull
			}
			factor = 2.0
		}
		modifier = {
			trait = imbecile
			factor = 3.0
		}
		modifier = {
			trait = inbred
			factor = 3.0
		}
		modifier = {
			is_strong_trigger = yes
			factor = 0.7
		}
		modifier = {
			is_weak_trigger = yes
			factor = 2.5
		}
		modifier = {
			factor = 1.25
			trait = stressed
		}
		modifier = {
			factor = 1.25
			trait = depressed
		}
		modifier = {
			factor = 1.5
			OR = {
				trait = lunatic_1
				trait = lunatic_2
				trait = lunatic_3
			}
		}
		modifier = {
			factor = 1.5
			trait = possessed
		}
		modifier = {
			factor = 1.1
			is_ill = yes
		}
		modifier = {
			factor = 1.25
			trait = pneumonic
		}
		modifier = {
			factor = 1.25
			trait = syphilitic
		}
		modifier = {
			factor = 2.0
			trait = leper
		}
		modifier = {
			factor = 1.15
			trait = wounded
		}
		modifier = {
			factor = 1.25
			is_maimed_trigger = yes
		}
		modifier = {
			factor = 2.0
			trait = infirm
		}
		modifier = {
			factor = 3.0
			trait = incapable
		}
		modifier = {
			factor = 1.1
			trait = drunkard
		}
		modifier = {
			factor = 1.1
			trait = has_tuberculosis
		}
		modifier = {
			factor = 1.1
			trait = has_typhoid_fever
		}
		modifier = {
			factor = 1.5
			trait = has_typhus
		}
		modifier = {
			factor = 1.5
			trait = has_bubonic_plague
		}
		modifier = {
			factor = 1.1
			trait = has_measles
		}
		modifier = {
			factor = 1.1
			trait = has_small_pox
		}
	}

	immediate = {
		log = "work event id = TOG.3003 for [Root.GetBestName]"
		liege = {
			if = {
				limit = {
					NOT = {
						character = ROOT
					}
				}
				character_event = {
					id = 253
				}
			}
		}
		FROMFROM = {
			if = {
				limit = {
					NOT = {
						is_vassal_or_below = ROOT
					}
				}
				set_character_flag = temp_battle_kill_242
				character_event = {
					id = 249
				}
			}
		}
		FROM = {
			if = {
				limit = {
					NOR = {
						has_character_flag = temp_battle_kill_242
						is_vassal_or_below = ROOT
					}
				}
				character_event = {
					id = 249
				}
			}
		}
		FROMFROM = {
			clr_character_flag = temp_battle_kill_242
		}
		if = {
			limit = {
				OR = {
					is_liege_or_above = FROM
					FROM = {
						character = ROOT
					}
					NOT = {
						FROM = {
							always = yes
						}
					}
				}
			}
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_battle
			}
			break = yes
		}
		if = {
			limit = {
				is_invincible_trigger = yes
			}
			antideath_effect = yes
			break = yes
		}
		death = {
			death_reason = death_battle
			killer = FROM
		}
	}

	option = {
		name = EVTOPTA_TOG_3003
	}
}

# Berserker kills scores of enemies in battle
character_event = {
	id = TOG.3004
	desc = EVTDESC_TOG_3004
	picture = GFX_evt_viking_battle_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		trait = berserker
	}
	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 1.5
			trait = brave
		}
		modifier = {
			factor = 0.5
			trait = craven
		}
		modifier = {
			trait = genius
			factor = 1.2
		}
		modifier = {
			OR = {
				trait = quick
				trait = shrewd
			}
			factor = 1.1
		}
		modifier = {
			OR = {
				trait = slow
				trait = dull
			}
			factor = 0.9
		}
		modifier = {
			trait = imbecile
			factor = 0.2
		}
		modifier = {
			trait = inbred
			factor = 0.2
		}
		modifier = {
			is_strong_trigger = yes
			factor = 1.5
		}
		modifier = {
			is_weak_trigger = yes
			factor = 0.8
		}
		modifier = {
			factor = 0.8
			trait = stressed
		}
		modifier = {
			factor = 0.8
			trait = depressed
		}
		modifier = {
			factor = 0.75
			OR = {
				trait = lunatic_1
				trait = lunatic_2
				trait = lunatic_3
			}
		}
		modifier = {
			factor = 0.75
			trait = possessed
		}
		modifier = {
			factor = 0.9
			is_ill = yes
		}
		modifier = {
			factor = 0.8
			trait = pneumonic
		}
		modifier = {
			factor = 0.8
			trait = syphilitic
		}
		modifier = {
			factor = 0.5
			trait = leper
		}
		modifier = {
			factor = 0.9
			trait = wounded
		}
		modifier = {
			factor = 0.8
			is_maimed_trigger = yes
		}
		modifier = {
			factor = 0.5
			trait = infirm
		}
		modifier = {
			factor = 0.4
			trait = incapable
		}
		modifier = {
			factor = 0.5
			trait = drunkard
		}
		modifier = {
			factor = 0.5
			trait = has_tuberculosis
		}
		modifier = {
			factor = 0.5
			trait = has_typhoid_fever
		}
		modifier = {
			factor = 0.5
			trait = has_typhus
		}
		modifier = {
			factor = 0.5
			trait = has_bubonic_plague
		}
		modifier = {
			factor = 0.5
			trait = has_measles
		}
		modifier = {
			factor = 0.5
			trait = has_small_pox
		}
	}

	immediate = {
		log = "work event id = TOG.3004 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3004
		prestige = 200
		change_martial = 1
	}
}

# Too old to be Berserker
character_event = {
	id = TOG.3005
	desc = EVTDESC_TOG_3005
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	has_dlc = "The Old Gods"
	min_age = 50

	trigger = {
		trait = berserker
		immortal = no
	}

	immediate = {
		log = "work event id = TOG.3005 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3005
		remove_trait = berserker
	}
}

# Berserker goes berserk against Courtier
character_event = {
	id = TOG.3006
	desc = EVTDESC_TOG_3006
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3006 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3006
		random_list = {
			50 = {
				character_event = {
					id = TOG.3007 days = 1 tooltip = EVTTOOLTIP_TOG_3007
				}
			}
			50 = {
				character_event = {
					id = TOG.3008 days = 1 tooltip = EVTTOOLTIP_TOG_3008
				}
			}
		}
	}
}

# Courtier beaten
character_event = {
	id = TOG.3007
	desc = EVTDESC_TOG_3007
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	hide_from = yes

	immediate = {
		log = "work event id = TOG.3007 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3007
		FROMFROM = {
			add_trait = wounded
			opinion = {
				modifier = opinion_went_berserk
				who = ROOT
			}
		}
	}
}

# Courtier spared
character_event = {
	id = TOG.3008
	desc = EVTDESC_TOG_3008
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes
	hide_from = yes

	immediate = {
		log = "work event id = TOG.3008 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3008
		piety = 20
	}
}

# Berserker goes berserk against Courtier (Hidden AI)
character_event = {
	id = TOG.3009
	hide_window = yes
	is_triggered_only = yes
	has_dlc = "The Old Gods"
	ai = yes
	min_age = 16
	only_men = yes
	capable_only = yes
	prisoner = no
	is_triggered_only = yes

	trigger = {
		host = {
			character = liege
			prisoner = no
			trait = berserker
			NOT = {
				trait = incapable
				opinion = {
					who = ROOT value = 10
				}
			}
			NOT = {
				is_inaccessible_trigger = yes
			}
		}
		NOT = {
			trait = berserker
		}
		is_primary_heir = no
		is_pretender = no
	}

	weight_multiplier = {
		factor = 0.05780
	}

	immediate = {
		log = "work event id = TOG.3009 for [Root.GetBestName]"
		liege = {
			character_event = {
				id = TOG.3006
			}
		}
	}

	option = {
		name = OK
	}
}

# Sejdr Events
# V�lva Appears
character_event = {
	id = TOG.3200
	religion = norscan_gods
	has_dlc = "The Old Gods"
	desc = EVTDESC_TOG_3200
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	ai = no
	min_age = 16
	capable_only = yes
	only_playable = yes
	prisoner = no
	is_triggered_only = yes

	trigger = {
		in_command = no
		NOT = {
			any_courtier = {
				has_minor_title = title_volva
			}
		}
	}

	weight_multiplier = {
		factor = 0.05464
	}

	immediate = {
		log = "work event id = TOG.3200 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3200
		create_character = {
			random_traits = no
			dynasty = NONE
			female = yes
			age = 35
			religion = ROOT
			culture = ROOT
			trait = mystic
			trait = scholarly_theologian
		}
		new_character = {
			give_minor_title = title_volva
			add_trait = creature_human
			add_trait = hedge_wizard
			random_list = {
				30 = {
					add_trait = magic_potential_1
				}
				60 = {
					add_trait = magic_potential_2
				}
			}
			random_list = {
				15 = {
					add_trait = lore_beasts
				}
				15 = {
					add_trait = lore_metal
				}
				20 = {
					add_trait = lore_life
				}
				20 = {
					add_trait = lore_death
				}
				20 = {
					add_trait = lore_fire
				}
				10 = {
					add_trait = lore_shadows
				}
			}
			z_magic_power_random = yes
		}
	}

	option = {
		name = EVTOPTB_TOG_3200
		custom_tooltip = {
			text = away_witch
		}
	}
}

# Young V�lva Appears
character_event = {
	id = TOG.3201
	religion = norscan_gods
	has_dlc = "The Old Gods"
	desc = EVTDESC_TOG_3201
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	ai = no
	min_age = 16
	capable_only = yes
	only_playable = yes
	prisoner = no
	is_triggered_only = yes

	trigger = {
		in_command = no
		NOT = {
			any_courtier = {
				has_minor_title = title_volva
			}
		}
	}

	weight_multiplier = {
		factor = 0.05464
	}

	immediate = {
		log = "work event id = TOG.3201 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3201
		create_character = {
			random_traits = no
			dynasty = NONE
			female = yes
			age = 22
			religion = ROOT
			culture = ROOT
			trait = mystic
			trait = scholarly_theologian
			trait = fair
		}
		new_character = {
			give_minor_title = title_volva
			add_trait = creature_human
			add_trait = hedge_wizard
			random_list = {
				30 = {
					add_trait = magic_potential_1
				}
				60 = {
					add_trait = magic_potential_2
				}
			}
			random_list = {
				15 = {
					add_trait = lore_beasts
				}
				15 = {
					add_trait = lore_metal
				}
				20 = {
					add_trait = lore_life
				}
				20 = {
					add_trait = lore_death
				}
				20 = {
					add_trait = lore_fire
				}
				10 = {
					add_trait = lore_shadows
				}
			}
			z_magic_power_random = yes
		}
	}

	option = {
		name = EVTOPTB_TOG_3201
		custom_tooltip = {
			text = no_witch
		}
	}
}

# Old V�lva Appears
character_event = {
	id = TOG.3202
	religion = norscan_gods
	has_dlc = "The Old Gods"
	desc = EVTDESC_TOG_3202
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	ai = no
	min_age = 16
	capable_only = yes
	only_playable = yes
	prisoner = no
	is_triggered_only = yes

	trigger = {
		in_command = no
		NOT = {
			any_courtier = {
				has_minor_title = title_volva
			}
		}
	}

	weight_multiplier = {
		factor = 0.05464
	}

	immediate = {
		log = "work event id = TOG.3202 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3202
		create_character = {
			random_traits = no
			dynasty = NONE
			female = yes
			age = 53
			religion = ROOT
			culture = ROOT
			trait = mystic
			trait = scholarly_theologian
			trait = ugly
		}
		new_character = {
			give_minor_title = title_volva
			add_trait = creature_human
			add_trait = hedge_wizard
			random_list = {
				30 = {
					add_trait = magic_potential_1
				}
				60 = {
					add_trait = magic_potential_2
				}
			}
			random_list = {
				15 = {
					add_trait = lore_beasts
				}
				15 = {
					add_trait = lore_metal
				}
				20 = {
					add_trait = lore_life
				}
				20 = {
					add_trait = lore_death
				}
				20 = {
					add_trait = lore_fire
				}
				10 = {
					add_trait = lore_shadows
				}
			}
			z_magic_power_random = yes
		}
	}

	option = {
		name = EVTOPTB_TOG_3202
		custom_tooltip = {
			text = begone_witch
		}
	}
}

# V�lva Warns About Child (AI Spouse)
character_event = {
	id = TOG.3203
	hide_window = yes
	has_dlc = "The Old Gods"
	only_women = yes
	min_age = 16
	prisoner = no
	only_capable = yes
	is_triggered_only = yes

	trigger = {
		# NOT = {
		# has_game_rule = {
		# name = supernatural_events
		# value = off
		# }
		# }
		is_pregnant = yes
		spouse = {
			# OR = {
			# ai = no
			# has_game_rule = {
			# name = supernatural_events
			# value = unrestricted
			# }
			# }
			any_courtier = {
				has_minor_title = title_volva
			}
		}
		NOT = {
			has_character_flag = pregnant_with_demon
		}
	}

	weight_multiplier = {
		factor = 0.22222
	}

	immediate = {
		log = "work event id = TOG.3203 for [Root.GetBestName]"
		set_character_flag = pregnant_with_demon
		spouse = {
			random_courtier = {
				limit = {
					has_minor_title = title_volva
				}
				character_event = {
					id = TOG.3204
				}
			}
		}
	}
}

# V�lva Warns About Child (AI V�lva)
character_event = {
	id = TOG.3204
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3204 for [Root.GetBestName]"
		liege = {
			character_event = {
				id = TOG.3205
			}
		}
	}
}

# V�lva Warns About Child
character_event = {
	id = TOG.3205
	desc = EVTDESC_TOG_3205
	picture = GFX_evt_pregnancy
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3205 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3205
		FROM = {
			opinion = {
				modifier = opinion_disappointed
				years = 1
				who = ROOT
			}
		}
	}

	option = {
		name = EVTOPTB_TOG_3205
		FROMFROM = {
			opinion = {
				modifier = opinion_disappointed
				years = 1
				who = ROOT
			}
		}
	}
}

# Demon Child is Born
character_event = {
	id = TOG.3206
	hide_window = yes
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		mother = {
			has_character_flag = pregnant_with_demon
		}
	}

	immediate = {
		log = "work event id = TOG.3206 for [Root.GetBestName]"
		random_list = {
			50 = {
				set_character_flag = demon_child
			}
			50 = {
				set_character_flag = demon_child_fake
			}
		}
		mother = {
			clr_character_flag = pregnant_with_demon
		}
	}
}

# Child acts strange I (AI)
character_event = {
	id = TOG.3210
	hide_window = yes
	min_age = 4
	max_age = 16
	ai = yes
	has_character_flag = demon_child
	is_triggered_only = yes

	trigger = {
		OR = {
			has_dlc = "The Old Gods"
			has_dlc = "Mystics"
		}
		NOT = {
			has_character_flag = child_strange_1
		}
		father = {
			is_alive = yes
		}
	}

	weight_multiplier = {
		factor = 0.55556
	}

	immediate = {
		log = "work event id = TOG.3210 for [Root.GetBestName]"
		set_character_flag = child_strange_1
		father = {
			character_event = {
				id = TOG.3211
			}
		}
	}
}

# Child acts strange I
character_event = {
	id = TOG.3211
	desc = EVTDESC_TOG_3211
	picture = GFX_evt_child_play
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3211 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3211
		custom_tooltip = {
			text = child_acts_strange
		}
	}
}

# Child acts strange II (AI)
character_event = {
	id = TOG.3212
	hide_window = yes
	min_age = 4
	max_age = 16
	ai = yes
	has_character_flag = demon_child
	is_triggered_only = yes

	trigger = {
		OR = {
			has_dlc = "The Old Gods"
			has_dlc = "Mystics"
		}
		NOT = {
			has_character_flag = child_strange_2
		}
		father = {
			is_alive = yes
		}
	}

	weight_multiplier = {
		factor = 0.55556
	}

	immediate = {
		log = "work event id = TOG.3212 for [Root.GetBestName]"
		set_character_flag = child_strange_2
		father = {
			character_event = {
				id = TOG.3213
			}
		}
	}
}

# Child acts strange II
character_event = {
	id = TOG.3213
	desc = EVTDESC_TOG_3213
	picture = GFX_evt_child_play
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3213 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3213
		custom_tooltip = {
			text = child_acts_strange
		}
	}
}

# Child acts strange III (AI)
character_event = {
	id = TOG.3214
	hide_window = yes
	min_age = 4
	max_age = 16
	ai = yes
	has_character_flag = demon_child
	is_triggered_only = yes

	trigger = {
		OR = {
			has_dlc = "The Old Gods"
			has_dlc = "Mystics"
		}
		NOT = {
			has_character_flag = child_strange_3
		}
		father = {
			is_alive = yes
		}
	}

	weight_multiplier = {
		factor = 0.55556
	}

	immediate = {
		log = "work event id = TOG.3214 for [Root.GetBestName]"
		set_character_flag = child_strange_3
		father = {
			character_event = {
				id = TOG.3215
			}
		}
	}
}

# Child acts strange III
character_event = {
	id = TOG.3215
	desc = EVTDESC_TOG_3215
	picture = GFX_evt_child_play
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3215 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3215
		custom_tooltip = {
			text = child_acts_strange
		}
	}
}

# Child kills Courtier I (AI Child)
character_event = {
	id = TOG.3216
	hide_window = yes
	min_age = 4
	max_age = 16
	ai = yes
	has_character_flag = demon_child
	is_triggered_only = yes

	trigger = {
		OR = {
			has_dlc = "The Old Gods"
			has_dlc = "Mystics"
		}
		NOT = {
			has_character_flag = child_kills_1
		}
		father = {
			is_alive = yes
		}
		OR = {
			has_character_flag = child_strange_1
			has_character_flag = child_strange_2
			has_character_flag = child_strange_3
		}
		father = {
			any_courtier = {
				NOT = {
					character = ROOT
					is_close_relative = ROOT
				}
				host = {
					character = liege
					prisoner = no
				}
				ai = yes
				is_primary_heir = no
				is_pretender = no
				prisoner = no
				age = 13
				in_command = no
				NOT = {
					spouse = {
						character = host
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 0.38462
	}

	immediate = {
		log = "work event id = TOG.3216 for [Root.GetBestName]"
		set_character_flag = child_kills_1
		father = {
			random_courtier = {
				limit = {
					NOT = {
						character = ROOT
						is_close_relative = ROOT
					}
					host = {
						character = liege
						prisoner = no
					}
					ai = yes
					is_primary_heir = no
					is_pretender = no
					prisoner = no
					age = 13
					in_command = no
					NOT = {
						spouse = {
							character = host
						}
					}
				}
				character_event = {
					id = TOG.3217
				}
			}
		}
	}
}

# Child kills Courtier I (AI Courtier)
character_event = {
	id = TOG.3217
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3217 for [Root.GetBestName]"
		liege = {
			character_event = {
				id = TOG.3218
			}
		}
	}
}

# Child kills Courtier I
character_event = {
	id = TOG.3218
	desc = EVTDESC_TOG_3218
	picture = GFX_evt_viking_funeral_oldgods
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3218 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3218
		FROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_murder_unknown_fall
				killer = ROOT
			}
		}
	}
}

# Child kills Courtier II (AI Child)
character_event = {
	id = TOG.3219
	hide_window = yes
	min_age = 4
	max_age = 16
	ai = yes
	has_character_flag = demon_child
	is_triggered_only = yes

	trigger = {
		OR = {
			has_dlc = "The Old Gods"
			has_dlc = "Mystics"
		}
		NOT = {
			has_character_flag = child_kills_2
		}
		father = {
			is_alive = yes
		}
		OR = {
			has_character_flag = child_strange_1
			has_character_flag = child_strange_2
			has_character_flag = child_strange_3
		}
		father = {
			any_courtier = {
				NOT = {
					character = ROOT
					is_close_relative = ROOT
				}
				host = {
					character = liege
					prisoner = no
				}
				ai = yes
				is_primary_heir = no
				is_pretender = no
				prisoner = no
				age = 13
				in_command = no
				NOT = {
					spouse = {
						character = host
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 0.38462
	}

	immediate = {
		log = "work event id = TOG.3219 for [Root.GetBestName]"
		set_character_flag = child_kills_2
		father = {
			random_courtier = {
				limit = {
					NOT = {
						character = ROOT
						is_close_relative = ROOT
					}
					host = {
						character = liege
						prisoner = no
					}
					ai = yes
					is_primary_heir = no
					is_pretender = no
					prisoner = no
					age = 13
					in_command = no
					NOT = {
						spouse = {
							character = host
						}
					}
				}
				character_event = {
					id = TOG.3220
				}
			}
		}
	}
}

# Child kills Courtier II (AI Courtier)
character_event = {
	id = TOG.3220
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3220 for [Root.GetBestName]"
		liege = {
			character_event = {
				id = TOG.3221
			}
		}
	}
}

# Child kills Courtier II
character_event = {
	id = TOG.3221
	desc = EVTDESC_TOG_3221
	picture = GFX_evt_viking_funeral_oldgods
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3221 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3221
		FROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_murder_unknown_fall
				killer = ROOT
			}
		}
	}
}

# Child kills Courtier III (AI Child)
character_event = {
	id = TOG.3222
	hide_window = yes
	min_age = 4
	max_age = 16
	ai = yes
	has_character_flag = demon_child
	is_triggered_only = yes

	trigger = {
		OR = {
			has_dlc = "The Old Gods"
			has_dlc = "Mystics"
		}
		NOT = {
			has_character_flag = child_kills_3
		}
		father = {
			is_alive = yes
		}
		OR = {
			has_character_flag = child_strange_1
			has_character_flag = child_strange_2
			has_character_flag = child_strange_3
		}
		father = {
			any_courtier = {
				NOT = {
					character = ROOT
					is_close_relative = ROOT
				}
				host = {
					character = liege
					prisoner = no
				}
				ai = yes
				is_primary_heir = no
				is_pretender = no
				prisoner = no
				age = 13
				in_command = no
				NOT = {
					spouse = {
						character = host
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 0.38462
	}

	immediate = {
		log = "work event id = TOG.3222 for [Root.GetBestName]"
		set_character_flag = child_kills_3
		father = {
			random_courtier = {
				limit = {
					NOT = {
						character = ROOT
						is_close_relative = ROOT
					}
					host = {
						character = liege
						prisoner = no
					}
					ai = yes
					is_primary_heir = no
					is_pretender = no
					prisoner = no
					age = 13
					in_command = no
					NOT = {
						spouse = {
							character = host
						}
					}
				}
				character_event = {
					id = TOG.3223
				}
			}
		}
	}
}

# Child kills Courtier III (AI Courtier)
character_event = {
	id = TOG.3223
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3223 for [Root.GetBestName]"
		liege = {
			character_event = {
				id = TOG.3224
			}
		}
	}
}

# Child kills Courtier III
character_event = {
	id = TOG.3224
	desc = EVTDESC_TOG_3224
	picture = GFX_evt_viking_funeral_oldgods
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3224 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3224
		FROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_murder_unknown_drowning
				killer = ROOT
			}
		}
	}
}

# V�lva Wants Exorcism (AI Child)
character_event = {
	id = TOG.3250
	hide_window = yes
	min_age = 4
	max_age = 16
	ai = yes
	is_triggered_only = yes

	trigger = {
		OR = {
			has_dlc = "The Old Gods"
			has_dlc = "Mystics"
		}
		NOT = {
			has_character_flag = child_exorcism
		}
		father = {
			is_alive = yes
		}
		OR = {
			has_character_flag = demon_child
			has_character_flag = demon_child_fake
		}
		father = {
			any_courtier = {
				has_minor_title = title_volva
			}
		}
	}

	weight_multiplier = {
		factor = 0.17857
	}

	immediate = {
		log = "work event id = TOG.3250 for [Root.GetBestName]"
		set_character_flag = child_exorcism
		father = {
			random_courtier = {
				limit = {
					has_minor_title = title_volva
				}
				character_event = {
					id = TOG.3251
				}
			}
		}
	}
}

# V�lva Wants Exorcism (AI V�lva)
character_event = {
	id = TOG.3251
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3251 for [Root.GetBestName]"
		liege = {
			character_event = {
				id = TOG.3252
			}
		}
	}
}

# V�lva Wants Exorcism
character_event = {
	id = TOG.3252
	desc = EVTDESC_TOG_3252
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3252 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3252
		hidden_tooltip = {
			character_event = {
				id = TOG.3253 days = 7
			}
		}
		custom_tooltip = {
			text = exorcism_approved
		}
	}

	option = {
		name = EVTOPTB_TOG_3252
		FROM = {
			opinion = {
				modifier = opinion_very_disappointed
				years = 2
				who = ROOT
			}
		}
		custom_tooltip = {
			text = exorcism_denied
		}
	}
}

# Exorcism Begins
character_event = {
	id = TOG.3253
	desc = EVTDESC_TOG_3253
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes
	hide_from = yes

	immediate = {
		log = "work event id = TOG.3253 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3253
		custom_tooltip = {
			text = exorcism_begins
			hidden_tooltip = {
				random_child = {
					limit = {
						has_character_flag = child_exorcism
					}
					character_event = {
						id = TOG.3254 days = 3
					}
				}
			}
		}
	}
}

# Exorcism Begins (AI Child)
character_event = {
	id = TOG.3254
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3254 for [Root.GetBestName]"
		father = {
			random_courtier = {
				limit = {
					has_minor_title = title_volva
				}
				character_event = {
					id = TOG.3255
				}
			}
		}
	}
}

# Exorcism Begins (AI V�lva)
character_event = {
	id = TOG.3255
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3255 for [Root.GetBestName]"
		liege = {
			random_list = {
				20 = {
					character_event = {
						id = TOG.3256 days = 3
					}
				}
				20 = {
					character_event = {
						id = TOG.3257 days = 3
					}
				}
				40 = {
					character_event = {
						id = TOG.3258 days = 3
					}
				}
				20 = {
					character_event = {
						id = TOG.3259 days = 3
					}
				}
			}
		}
	}
}

# Exorcism Completed - V�lva Dies
character_event = {
	id = TOG.3256
	desc = EVTDESC_TOG_3256
	picture = GFX_evt_child_play
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3256 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3256
		FROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_murder_butchered
			}
		}
		FROMFROM = {
			# Flags removed, no more events
			clr_character_flag = demon_child
			clr_character_flag = demon_child_fake
			clr_character_flag = child_exorcism
		}
	}
}

# Exorcism Completed - Child Dies
character_event = {
	id = TOG.3257
	desc = EVTDESC_TOG_3257
	picture = GFX_evt_viking_funeral_oldgods
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3257 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3257
		FROMFROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_sacrificed_norse
			}
		}
		FROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_execution
				killer = ROOT
			}
		}
	}

	option = {
		name = EVTOPTB_TOG_3257
		FROMFROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_sacrificed_norse
			}
		}
		FROM = {
			banish = yes
		}
	}

	option = {
		name = EVTOPTC_TOG_3257
		FROMFROM = {
			if = {
				limit = {
					is_invincible_trigger = yes
				}
				antideath_effect = yes
				break = yes
			}
			death = {
				death_reason = death_sacrificed_norse
			}
		}
	}
}

# Exorcism Completed - Child is Unharmed
character_event = {
	id = TOG.3258
	desc = EVTDESC_TOG_3258
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3258 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3258
		FROMFROM = {
			clr_character_flag = demon_child
			clr_character_flag = demon_child_fake
			clr_character_flag = child_exorcism
			remove_character_modifier = voice_of_satan
			remove_character_modifier = voice_of_jesus
			remove_character_modifier = holy_comet
			remove_character_modifier = lycanthropy
			remove_trait = possessed
		}
	}
}

# Exorcism Completed - Child is Hurt
character_event = {
	id = TOG.3259
	desc = EVTDESC_TOG_3259
	picture = GFX_evt_pagan
	border = GFX_event_normal_frame_religion
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3259 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTB_TOG_3257
		FROMFROM = {
			clr_character_flag = demon_child
			clr_character_flag = demon_child_fake
			clr_character_flag = child_exorcism
			remove_character_modifier = voice_of_satan
			remove_character_modifier = voice_of_jesus
			remove_character_modifier = holy_comet
			remove_character_modifier = lycanthropy
			remove_trait = possessed
		}
		FROM = {
			banish = yes
		}
	}

	option = {
		name = EVTOPTC_TOG_3257
		FROMFROM = {
			clr_character_flag = demon_child
			clr_character_flag = demon_child_fake
			clr_character_flag = child_exorcism
			remove_character_modifier = voice_of_satan
			remove_character_modifier = voice_of_jesus
			remove_character_modifier = holy_comet
			remove_character_modifier = lycanthropy
			remove_trait = possessed
		}
	}
}

# Child Becomes Adult
character_event = {
	id = TOG.3260
	hide_window = yes
	min_age = 16
	max_age = 17
	has_character_flag = demon_child

	trigger = {
		OR = {
			has_dlc = "The Old Gods"
			has_dlc = "Mystics"
		}
	}

	mean_time_to_happen = {
		days = 1
	}

	immediate = {
		log = "work event id = TOG.3260 for [Root.GetBestName]"
		clr_character_flag = demon_child
		clr_character_flag = demon_child_fake
		clr_character_flag = child_exorcism
		random_list = {
			20 = {
				religion = khorne
			}
			20 = {
				religion = nurgle
			}
			20 = {
				religion = tzeentch
			}
			20 = {
				religion = slaanesh
			}
			20 = {
				religion = chaos
			}
		}
	}
}

# Looting Events
# 2 Axe
character_event = {
	id = TOG.3300
	desc = EVTDESC_TOG_3300
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_normal_frame_war
	ai = no
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		NOT = {
			has_artifact = loot_axe
		}
	}

	immediate = {
		log = "work event id = TOG.3300 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3300
		add_artifact = loot_axe
		new_artifact = {
			set_creation_date = 1.1.1
		}
	}

	option = {
		name = EVTOPTB_TOG_3300
		prestige = 10
	}
}

# Strange Chest
character_event = {
	id = TOG.3301
	desc = EVTDESC_TOG_3301
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_normal_frame_economy
	ai = no
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		NOT = {
			has_artifact = strange_chest
			has_character_flag = found_chest
		}
	}

	immediate = {
		log = "work event id = TOG.3301 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3301
		custom_tooltip = {
			text = found_chest
		}
		add_artifact = strange_chest
		set_character_flag = found_chest
	}
}

# Key Found
character_event = {
	id = TOG.3302
	desc = EVTDESC_TOG_3302
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_normal_frame_economy
	ai = no
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		has_artifact = strange_chest
		has_character_flag = found_chest
	}

	immediate = {
		log = "work event id = TOG.3302 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3302
		custom_tooltip = {
			text = opens_chest
			hidden_tooltip = {
				random_list = {
					40 = {
						character_event = {
							id = TOG.3306
						}
					}
					40 = {
						character_event = {
							id = TOG.3307
						}
					}
					40 = {
						character_event = {
							id = TOG.3308
						}
					}
					5 = {
						character_event = {
							id = TOG.3309
						}
					}
				}
			}
		}
	}
}

# Key Found by Child or relative
character_event = {
	id = TOG.3303
	desc = EVTDESC_TOG_3303
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_normal_frame_economy
	ai = no
	is_triggered_only = yes
	has_dlc = "The Old Gods"

	trigger = {
		has_artifact = strange_chest
		NOT = {
			has_character_flag = found_chest
			any_dynasty_member = {
				has_character_flag = found_chest
			}
		}
	}

	immediate = {
		log = "work event id = TOG.3303 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3303
		custom_tooltip = {
			text = opens_chest
			hidden_tooltip = {
				random_list = {
					40 = {
						character_event = {
							id = TOG.3306
						}
					}
					40 = {
						character_event = {
							id = TOG.3307
						}
					}
					40 = {
						character_event = {
							id = TOG.3308
						}
					}
					5 = {
						character_event = {
							id = TOG.3309
						}
					}
				}
			}
		}
	}
}

# Chest Opened, Contains Gold
character_event = {
	id = TOG.3306
	desc = EVTDESC_TOG_3306
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_economy
	hide_from = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3306 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3306
		wealth = 200
		destroy_artifact = strange_chest
	}
}

# Chest Opened, Contains Parchments
character_event = {
	id = TOG.3307
	desc = EVTDESC_TOG_3307
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_economy
	hide_from = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3307 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3307
		custom_tooltip = {
			text = chest_empty
		}
		destroy_artifact = strange_chest
	}
}

# Chest Opened, Contains Junk
character_event = {
	id = TOG.3308
	desc = EVTDESC_TOG_3308
	picture = GFX_evt_viking_throneroom_oldgods
	border = GFX_event_normal_frame_economy
	hide_from = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3308 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3308
		wealth = 10
		destroy_artifact = strange_chest
	}
}

# Chest Opened, Contains Seraphim
character_event = {
	id = TOG.3309
	desc = EVTDESC_TOG_3309
	picture = GFX_evt_shadowy_cabal
	border = GFX_event_normal_frame_economy
	hide_from = yes
	is_triggered_only = yes

	immediate = {
		log = "work event id = TOG.3309 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3309
		custom_tooltip = {
			text = seraphims
		}
		destroy_artifact = strange_chest
	}
}

# Viking Trait Gained
character_event = {
	id = TOG.3320
	desc = EVTDESC_TOG_3320
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_normal_frame_war
	hide_from = yes
	is_triggered_only = yes
	religion = norscan_gods
	has_dlc = "The Old Gods"
	min_age = 16
	capable_only = yes
	prisoner = no
	religion = norscan_gods

	trigger = {
		NOR = {
			trait = viking
			trait = ravager
			trait = seaking
			trait = sea_queen
		}
	}

	immediate = {
		log = "work event id = TOG.3320 for [Root.GetBestName]"
	}

	option = {
		name = EVTOPTA_TOG_3320
		add_trait = viking
		hidden_tooltip = {
			set_variable = {
				which = viking_raids value = 0
			}
		}
	}
}

# Ravager
character_event = {
	id = TOG.3321
	desc = TOG.3321.d
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_normal_frame_war
	hide_from = yes
	is_triggered_only = yes
	religion = norscan_gods
	has_dlc = "The Old Gods"
	min_age = 16
	capable_only = yes
	prisoner = no
	religion = norscan_gods

	trigger = {
		trait = viking
		NOR = {
			trait = ravager
			trait = seaking
			trait = sea_queen
		}
		check_variable = {
			which = viking_raids value = 50
		}
	}

	immediate = {
		log = "work event id = TOG.3321 for [Root.GetBestName]"
	}

	option = {
		name = TOG.3321.a
		remove_trait = viking
		add_trait = ravager
	}
}

# Sea King
character_event = {
	id = TOG.3322
	desc = TOG.3322.d
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_normal_frame_war
	hide_from = yes
	is_triggered_only = yes
	religion = norscan_gods
	has_dlc = "The Old Gods"
	min_age = 16
	capable_only = yes
	prisoner = no
	religion = norscan_gods

	trigger = {
		trait = ravager
		NOR = {
			trait = seaking
			trait = sea_queen
		}
		check_variable = {
			which = viking_raids value = 100
		}
	}

	immediate = {
		log = "work event id = TOG.3322 for [Root.GetBestName]"
	}

	option = {
		name = TOG.3322.a
		remove_trait = ravager
		if = {
			limit = {
				is_female = no
			}
			add_trait = seaking
		}
		if = {
			limit = {
				is_female = yes
			}
			add_trait = sea_queen
		}
	}
}

character_event = {
	id = TOG.3323
	hide_window = yes
	is_triggered_only = yes
	religion = norscan_gods
	has_dlc = "The Old Gods"
	min_age = 16
	capable_only = yes
	prisoner = no
	religion = norscan_gods

	trigger = {
		OR = {
			trait = viking
			trait = ravager
		}
	}

	immediate = {
		log = "work event id = TOG.3323 for [Root.GetBestName]"
	}

	option = {
		name = OK
		change_variable = {
			which = viking_raids value = 1
		}
	}
}

character_event = {
	id = TOG.3404
	desc = TOG.3404.d
	picture = GFX_evt_vikings_arriving_oldgods
	border = GFX_event_normal_frame_war
	is_triggered_only = yes

	trigger = {
		NOT = {
			capital_scope = {
				has_province_modifier = loot_prosperity_boost
			}
		}
	}

	immediate = {
		log = "work event id = TOG.3404 for [Root.GetBestName]"
	}

	option = {
		name = EXCELLENT
		capital_scope = {
			add_province_modifier = {
				name = loot_prosperity_boost
				duration = 1825
			}
			hidden_tooltip = {
				change_variable = {
					which = prosperity_value value = 12
				}
			}
		}
	}
}
