### At the moment we have a pretty basic icon system for combat tactics showing
### the uniticon which has the biggest bonus value in the tactic.
### This is the sprite number for each unit:
### 1=LI 2=HI 3=PIKE 4=LC 5=KNIGHTS 6=ARCHERS 7=HORSE ARCH.

# Must be first in file. This tactic will be set if anything goes wrong
no_tactic = {
	days = 1 # tactic lasts one day
	sprite = 1 # index of icon

	trigger = {
		always = no # never use unless set explicitly by code
	}
}

generic_skirmish_tactic = {
	days = 3 # tactic lasts one day
	sprite = 4 # index of icon
	group = skirmish

	trigger = {
		phase = skirmish
	}

	mean_time_to_happen = {
		days = 3
	}

}

harass_tactic = {
	days = 18
	sprite = 4
	group = harass

	trigger = {
		phase = skirmish
		OR = {
			light_cavalry = 0.001
			camel_cavalry = 0.001
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.7
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.7
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.6
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.7
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.5
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.5
				}
			}
		}
	}

	light_cavalry_offensive = 3
	camel_cavalry_offensive = 3
	horse_archers_offensive = -1.5
	archers_offensive = -1.5
	gunpowder_offensive = -1.5
	artillery_offensive = -1.5
	enemy = {
		group = swarm
		factor = 1
	}
}

volly_harass_tactic = {
	days = 18
	sprite = 4
	group = harass

	trigger = {
		phase = skirmish
		OR = {
			light_cavalry = 0.01
			camel_cavalry = 0.01
		}
		archers = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.7
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.7
				}
			}
			light_troops = { 
				who = archers
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.6
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.6
				}
			}
			light_troops = { 
				who = archers
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.5
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.5
				}
			}
			light_troops = { 
				who = archers
				value = 0.3
			}
		}
	}

	light_cavalry_offensive = 2.4
	camel_cavalry_offensive = 2.4
	archers_offensive = 0.6
	gunpowder_offensive = 0.3
	artillery_offensive = 0.5
	horse_archers_offensive = -1.8
	enemy = {
		group = swarm
		factor = 1
	}
}

volley_tactic = {
	days = 18
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish  
		archers = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = { 
				who = archers
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = { 
				who = archers
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = { 
				who = archers
				value = 0.5
			}
		}
	}

	light_cavalry_offensive = -1.5
	camel_cavalry_offensive = -1.5
	horse_archers_offensive = -1.5
	archers_offensive = 2.0
	gunpowder_offensive = 1.15
	artillery_offensive = 1.25
	enemy = {
		group = harass
		factor = 1
	}
}

swarm_volley_tactic = {
	days = 18
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish 
		archers = 0.01
		horse_archers = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = { 
				who = archers
				value = 0.7
			}
			light_troops = { 
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = { 
				who = archers
				value = 0.6
			}
			light_troops = { 
				who = horse_archers
				value = 0.3
			}
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = { 
				who = archers
				value = 0.5
			}
			light_troops = { 
				who = horse_archers
				value = 0.3
			}
		}	
	}

	light_cavalry_offensive = -1.8
	camel_cavalry_offensive = -1.8
	horse_archers_offensive =  0.6
	archers_offensive = 2.4	
	gunpowder_offensive = 1.2
	artillery_offensive = 1.1
	enemy = {
		group = harass
		factor = 1
	}
}

swarm_tactic = {
	days = 18
	sprite = 7
	group = swarm

	trigger = {
		phase = skirmish 
		horse_archers = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = { 
				who = horse_archers
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = { 
				who = horse_archers
				value = 0.6
			}
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = { 
				who = horse_archers
				value = 0.5
			}
		}	
	}

	light_cavalry_offensive = -1.5
	camel_cavalry_offensive = -1.5
	horse_archers_offensive = 3	
	archers_offensive = -1.5
	gunpowder_offensive = -1.5
	artillery_offensive = -1.5
	enemy = {
		group = volley
		factor = 1
	}
}

harras_swarm_tactic = {
	days = 18
	sprite = 7
	group = swarm

	trigger = {
		phase = skirmish 
		horse_archers = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = { 
				who = horse_archers
				value = 0.7
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.3
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = { 
				who = horse_archers
				value = 0.6
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.3
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = { 
				who = horse_archers
				value = 0.5
			}
			OR = {
				light_troops = { 
					who = light_cavalry
					value = 0.3
				}
				light_troops = { 
					who = camel_cavalry
					value = 0.3
				}
			}
		}
	}

	light_cavalry_offensive = 0.6
	camel_cavalry_offensive = 0.6
	horse_archers_offensive = 2.4	
	archers_offensive = -1.8
	gunpowder_offensive = -1.8
	artillery_offensive = -1.5
	
	enemy = {
		group = volley
		factor = 1
	}
}

shieldwall_tactic = {
	days = 12
	sprite = 2 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		OR = {
			heavy_infantry = 0.2
			light_infantry = 0.2
			pikemen = 0.2
		}
		archers = 0.2
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = pikemen
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.4
			}
		}
		modifier = {
			factor = 3
			leader = {
				trait = creature_dwarf
			}
		}
	}

	light_infantry_defensive = 1.2
	heavy_infantry_defensive = 3
	pikemen_defensive = 2.4

	archers_offensive = 0.6
	gunpowder_offensive = 0.4
	artillery_offensive = 0.6
	light_cavalry_defensive = -0.5
	camel_cavalry_defensive = -0.5
	knights_defensive = -0.5
	vampire_knights_defensive = -0.5
	horse_archers_defensive = -0.5
}

fient_tactic = {
	days = 12
	sprite = 2 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		light_infantry = 0.2
		archers  = 0.2
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = light_infantry
				value = 0.4
			}
		}
	}

	light_infantry_offensive = 1.0
	light_infantry_defensive = 0.5
	archers_offensive = 1.5
	gunpowder_offensive = 1.25
	artillery_offensive = 1.5
	
	heavy_infantry_offensive = -0.5
	heavy_infantry_defensive = -0.5
	knights_offensive = -0.5
	vampire_knights_offensive = -0.5
	knights_defensive = -0.5
	vampire_knights_defensive = -0.5
}



prepare_tactic = {
	days = 1
	sprite = 2
	group = defensive
		
	trigger = {
		phase = skirmish
		days = 15
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 8
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 12
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 16
			}
		}
	}
	
	change_phase_to = melee
}

charge_on_undefended_tactic = {
	days = 2
	sprite = 5
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 3 # duration of combat >= 3 days
	}
	
	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 100
			enemy = {
				troops = {
					who = archers
					value = 0.6
				}
			}
		}
	}
	
	change_phase_to = melee
}

charge_of_opportunity_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
	}

	mean_time_to_happen = {
		days = 3 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
	}

	change_phase_to = melee
	
	knights_offensive = 3
	vampire_knights_offensive = 3
	horse_archers_offensive = 3
	heavy_infantry_offensive = 1.2
}

charge_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = knights
				value = 0.1
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = vampire_knights
				value = 0.1
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.1
			}
		}
	}

	change_phase_to = melee

	knights_offensive = 3
	vampire_knights_offensive = 3
	horse_archers_offensive = 3
	heavy_infantry_offensive = 1.2
}

wait_tactic = {
	days = 1
	sprite = 2
	group = stand_fast

	trigger = {
		phase = melee
	}

	mean_time_to_happen = {
		days = 1
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 8
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 12
			}
		}
		modifier = {
			factor = 0.1
			flank_has_leader = yes
			leader = {
				martial = 16
			}
		}
	}
}

advance_tactic = {
	days = 18
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		heavy_infantry = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.6
			}
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.5
			}
		}
		modifier = {
			factor = 1.75
			flank_has_leader = yes
			troops = { 
				who = undead_horde
				value = 0.5
			}
		}	
	}

	knights_offensive = -1.5
	vampire_knights_offensive = -1.5
	heavy_infantry_offensive = 3
	pikemen_offensive = -1.5
	enemy = {
		group = stand_fast
		factor = 3
	}
}

awesome_advance_tactic = {
	days = 18
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		heavy_infantry = 0.01
		OR = { vampire_knights = 0.01
			knights = 0.01 }
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 9
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.7
			}
			OR  = { heavy_troops = { who = knights 
						value = 0.3 }
				heavy_troops = { who = vampire_knights 
						value = 0.3 } }
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 13
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.6
			}
			OR  = { heavy_troops = { who = knights 
						value = 0.3 }
				heavy_troops = { who = vampire_knights 
						value = 0.3 } }
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 17
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.5
			}
			OR  = { heavy_troops = { who = knights 
						value = 0.3 }
				heavy_troops = { who = vampire_knights 
						value = 0.3 } }
		}	
	}

	knights_offensive = 0.6
	vampire_knights_offensive = 0.6
	heavy_infantry_offensive = 2.4
	pikemen_offensive = -1.8
	enemy = {
		group = stand_fast
		factor = 3
	}
}

stand_fast_tactic = {
	days = 18
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		pikemen = 0.01
		location = {
			terrain = forest
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = { 
				who = pikemen
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = { 
				who = pikemen
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = { 
				who = pikemen
				value = 0.5
			}
		}
	}

	knights_offensive = -1.5
	vampire_knights_offensive = -1.5
	heavy_infantry_offensive = -1.5
	pikemen_offensive = 3
	enemy = {
		group = charge
		factor = 3
	}
}

slow_advance_tactic = {
	days = 18
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		pikemen = 0.01
		heavy_infantry = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = { 
				who = pikemen
				value = 0.7
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = { 
				who = pikemen
				value = 0.6
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = { 
				who = pikemen
				value = 0.5
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.3
			}
		}
	}

	knights_offensive = -1.8
	vampire_knights_offensive = -1.8
	heavy_infantry_offensive = 0.6
	pikemen_offensive = 2.4
	enemy = {
		group = charge
		factor = 3
	}
}

awesome_charge_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee
		OR = { knights = 0.01
			vampire_knights = 0.01
			}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR  = { heavy_troops = { who = knights 
						value = 0.7 }
				heavy_troops = { who = vampire_knights 
						value = 0.7 } }
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR  = { heavy_troops = { who = knights 
						value = 0.6 }
				heavy_troops = { who = vampire_knights 
						value = 0.6 } }
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR  = { heavy_troops = { who = knights 
						value = 0.5 }
				heavy_troops = { who = vampire_knights 
						value = 0.5 } }
		}
	}

	knights_offensive = 3
	vampire_knights_offensive = 3
	heavy_infantry_offensive = -1.5
	pikemen_offensive = -1.5
	enemy = {
		group = advance
		factor = 3
	}
}

awesomer_charge_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee 
		OR = { knights = 0.01
			vampire_knights = 0.01
			}
		pikemen = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 9
			}
			OR  = { heavy_troops = { who = knights 
						value = 0.7 }
				heavy_troops = { who = vampire_knights 
						value = 0.7 } }
			heavy_troops = {
				who = pikemen
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 13
			}
			OR  = { heavy_troops = { who = knights 
						value = 0.6 }
				heavy_troops = { who = vampire_knights 
						value = 0.6 } }
			heavy_troops = {
				who = pikemen
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 17
			}
			heavy_troops = { 
				who = knights
				value = 0.5
			}
			heavy_troops = {
				who = pikemen
				value = 0.3
			}
		}
	}

	knights_offensive = 2.4
	vampire_knights_offensive = 2.4
	heavy_infantry_offensive = -1.8
	pikemen_offensive = 0.6
	enemy = {
		group = advance
		factor = 3
	}
}

barrage_tactic = {
	days = 6
	sprite = 6 # index of icon
	group = defensive

	trigger = {
		phase = melee
		archers = 0.2
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
	}
	
	archers_offensive = 2.4
	horse_archers_offensive = 2.4
	gunpowder_offensive = 1.75
	artillery_offensive = -1.5
}

raid_tactic = {
	days = 6
	sprite = 1
	group = defensive
	
	trigger = {
		phase = melee
		OR = {
			light_cavalry = 0.2
			camel_cavalry = 0.2
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				troops = {
					who = light_cavalry
					value = 0.3
				}
				troops = {
					who = camel_cavalry
					value = 0.3
				}
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			troops = {
				who = light_infantry
				value = 0.3
			}
		}
	}
	
	light_cavalry_offensive = 2.4
	camel_cavalry_offensive = 2.4
	light_infantry_offensive = 2.4
}

pursue_tactic = {
	days = 15
	sprite = 4
	group = charge
	
	trigger = {
		phase = pursue
	}

	mean_time_to_happen = {
		days = 10
	}
}

#########################
# Combat Flavor Tactics #
#########################

# Bad Tactics

reckless_charge_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
		flank_has_leader = yes
		leader = {
			OR = {
				trait = aggressive_leader
				trait = wroth
			}
		}		
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			OR = { heavy_troops = {
						who = knights
						value = 0.1 }
				heavy_troops = {
						who = vampire_knights
						value = 0.1 } }
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.1
			}
		}
	}

	change_phase_to = melee

	knights_defensive = -0.5
	vampire_knights_defensive = -0.5
	horse_archers_defensive = -0.5
	heavy_infantry_defensive = -0.3
	
	knights_offensive = 1.2
	vampire_knights_offensive = 1.2
	horse_archers_offensive = 1.2
	heavy_infantry_offensive = 0.6
}


timid_advance_tactic = {
	days = 18
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		heavy_infantry = 0.01
		flank_has_leader = yes
		leader = {
			OR = {
				trait = craven
				trait = organizer
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			heavy_troops = {
				who = heavy_infantry
				value = 0.5
			}
		}	
	}

	knights_offensive = -2.1
	vampire_knights_offensive = -2.1
	heavy_infantry_offensive = -2.1
	pikemen_offensive = 1.2
	
	enemy = {
		group = stand_fast
		factor = 1.2
	}
}

confused_orders_tactic = {
	days = 18
	sprite = 6
	group = volley

	trigger = {
		phase = skirmish  
		archers = 0.01
		flank_has_leader = yes
		leader = {
			OR = {
				trait = lisp
				trait = stutter
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
			light_troops = { 
				who = archers
				value = 0.5
			}
		}
	}

	archers_offensive = -1.2
	gunpowder_offensive = -1.5
	artillery_offensive = -2.5
	horse_archers_offensive = -1.2
	
	enemy = {
		group = charge
		factor = -1.2
	}
}

hesitant_commander_tactic = {
	days = 18
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		flank_has_leader = yes
		leader = {
			OR = {
				trait = slothful
				trait = shy
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				NOT = { martial = 7 }
			}
		}
	}

	knights_offensive = -1.5
	heavy_infantry_offensive = -1.5
}

charging_own_skirmishers_tactic = {
	days = 6
	sprite = 5 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		days = 10 # duration of combat >= 10 days
		flank_has_leader = yes
		leader = { trait = cruel }
	}

	mean_time_to_happen = {
		days = 10 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 10 }
			}
			OR = { heavy_troops = {
						who = knights
						value = 0.1 }
				heavy_troops = {
						who = vampire_knights
						value = 0.1 } }
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				NOT = { martial = 10 }
			}
			OR = {
				light_troops = {
					who = light_cavalry
					value = 0.1
				}
				light_troops = {
					who = camel_cavalry
					value = 0.1
				}
			}
		}
	}

	change_phase_to = melee

	knights_offensive = 3
	vampire_knights_offensive = 3
	light_cavalry_offensive = 1.8
	camel_cavalry_offensive = 1.8
	archers_offensive = -4.2
	archers_defensive = -0.5
	gunpowder_offensive = -4.2
	horse_archers_offensive = -1.2
	horse_archers_defensive = -0.3
}

# Good tactics

inspired_defense_tactic = {
	days = 12
	sprite = 2 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		flank_has_leader = yes
		leader = {
			OR = {
				trait = inspiring_leader
				trait = defensive_leader
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 14
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = defensive_leader
			}
		}
	}

	knights_defensive = 1.5
	heavy_infantry_defensive = 1.5
	light_infantry_defensive = 1.5
	light_cavalry_defensive = 1.5
	camel_cavalry_defensive = 1.5
	archers_defensive = 1.5
	gunpowder_defensive = 1.25
	artillery_defensive = 1.2
	horse_archers_defensive = 1.5
	pikemen_defensive = 1.5
	
	enemy = {
		group = charge
		factor = 1.2
	}
	enemy = {
		group = advance
		factor = 0.6
	}
}

heroic_countercharge_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee 
		knights = 0.01
		OR = {
			light_cavalry = 0.01
			camel_cavalry = 0.01
		}
		flank_has_leader = yes
		leader = {
			OR = {
				trait = aggressive_leader
				trait = brave
				trait = cavalry_leader
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			OR = { heavy_troops = {
						who = knights
						value = 0.1 }
				heavy_troops = {
						who = vampire_knights
						value = 0.1 } }
		}
	}

	knights_offensive = 3.6
	light_cavalry_offensive = 3.6
	camel_cavalry_offensive = 3.6
	heavy_infantry_offensive = 0.6
	pikemen_offensive = 0.6

	enemy = {
		group = charge
		factor = 3
	}
}

clever_ambush_tactic = {
	days = 18
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		light_cavalry = 0.1
		OR = {
			light_infantry = 0.1
			camel_cavalry = 0.1
		}
		flank_has_leader = yes
		leader = {
			OR = {
				trait = trickster
				trait = quick
			}
		}
		location = {
			OR = {
				terrain = forest
				terrain = hills
				terrain = mountain
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 14
			}
			OR = {
				troops = {
					who = light_cavalry
					value = 0.2
				}
				troops = {
					who = camel_cavalry
					value = 0.2
				}
			}
			troops = {
				who = light_infantry
				value = 0.2
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = trickster
			}
			OR = {
				troops = {
					who = light_cavalry
					value = 0.2
				}
				troops = {
					who = camel_cavalry
					value = 0.2
				}
			}
			troops = { 
				who = light_infantry
				value = 0.2
			}
		}
	}

	light_cavalry_offensive = 2.4
	camel_cavalry_offensive = 2.4
	light_infantry_offensive = 1.2
	horse_archers = 1.2
	archers_offensive = 1.2
	artillery_offensive = 1.2
	gunpowder_offensive = 1.2
	enemy = {
		group = advance
		factor = 3
	}
}

religious_fervour_tactic = {
	days = 18
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		flank_has_leader = yes
		OR = {
			leader = {
				trait = zealous
				trait = inspiring_leader
			}
			leader = { trait = possessed }
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				trait = possessed
			}
		}
	}

	knights_offensive = 1.5
	vampire_knights_offensive = 1.5
	heavy_infantry_offensive = 1.5
	light_infantry_offensive = 1.5
	light_cavalry_offensive = 1.5
	camel_cavalry_offensive = 1.5
	archers_offensive = 1.5
	gunpowder_offensive = 1.5
	artillery_offensive = 1.5
	horse_archers_offensive = 1.5
	pikemen_offensive = 1.5
}

############################
# Culture Specific Tactics #
############################

# Altaic (Mongol, etc)
retreat_and_ambush_tactic = {
	days = 6
	sprite = 1
	group = defensive
	
	trigger = {
		phase = melee
		horse_archers = 0.2
		flank_has_leader = yes
		leader = { 
		OR = {
		culture_group = kislevite_group
		culture_group = kurgan_group
		culture_group = hung_group
		}
	}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = horse_archers
				value = 0.3
			}
		}
	}
	
	change_phase_to = skirmish
	
	horse_archers_offensive =  4.2
	light_cavalry_offensive = 2.4
	archers_offensive = 1.8
	gunpowder_offensive = 1.25
	artillery_offensive = 0.6
}

# Scandinavian
berserker_charge_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee 
		heavy_infantry = 0.01
		flank_has_leader = yes
		leader = { 
		OR = {
		culture_group = norscan_group 
		culture_group = kurgan_group
		culture_group = hung_group
		}
		}
		}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 10
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.3
			}
		}
	}

	heavy_infantry_offensive = 3.6
	light_infantry_offensive = 1.2

	heavy_infantry_defensive = -0.5
	light_infantry_defensive = -0.3

	enemy = {
		group = stand_fast
		factor = 1
	}
}

# Scottish
schiltron_formation_tactic = {
	days = 18
	sprite = 13
	group = stand_fast

	trigger = {
		phase = melee
		pikemen = 0.01
		flank_has_leader = yes
		leader = { culture_group = dwarf_group }
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = { 
				who = pikemen
				value = 0.6
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = { 
				who = pikemen
				value = 0.5
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.3
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = { 
				who = pikemen
				value = 0.4
			}
			heavy_troops = { 
				who = heavy_infantry
				value = 0.2
			}
		}
	}

	light_infantry_defensive = 1.2
	heavy_infantry_defensive = 2.4
	pikemen_defensive = 3.6

	archers_offensive = 0.6
	gunpowder_offensive = 0.6
	artillery_offensive = 0.6
	pikemen_offensive = 2.4

	light_cavalry_defensive = -0.4
	knights_defensive = -0.4
	horse_archers_defensive = -0.4
	
	enemy = {
		group = charge
		factor = 3
	}
}

# Italian
pike_column_advance_tactic = {
	days = 18
	sprite = 2
	group = advance

	trigger = {
		phase = melee
		pikemen = 0.01
		flank_has_leader = yes
		leader = { culture_group = tilean_group }
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = { 
				who = pikemen
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = { 
				who = pikemen
				value = 0.5
			}
		}	
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = { 
				who = pikemen
				value = 0.4
			}
		}	
	}

	knights_offensive = 0.6
	heavy_infantry_offensive = 1.2
	pikemen_offensive = 3
	enemy = {
		group = stand_fast
		factor = 3
	}
}

# English/Welsh
massive_longbow_volley_tactic = {
	days = 18
	sprite = 12
	group = volley

	trigger = {
		phase = skirmish  
		archers = 0.01
		flank_has_leader = yes
		leader = {
			OR = {
				culture_group = asur_group
				culture_group = asrai_group
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			light_troops = { 
				who = archers
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = { 
				who = archers
				value = 0.5
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			light_troops = { 
				who = archers
				value = 0.4
			}
		}
	}

	archers_offensive = 3.5
	
	enemy = {
		group = harass
		factor = 1
	}
	enemy = {
		group = charge
		factor = 1
	}
}

# Frank/Norman/German/Occitan/Breton
couched_lance_charge_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee 
		knights = 0.01
		flank_has_leader = yes
		leader = {
			OR = {
				culture_group = bretonnian_group
				culture_group = imperial_group
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = { 
				heavy_troops = { 
					who = knights
					value = 0.6
					}
				heavy_troops = { 
					who = vampire_knights
					value = 0.6
					}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = { 
				heavy_troops = { 
					who = knights
					value = 0.5
					}
				heavy_troops = { 
					who = vampire_knights
					value = 0.5
					}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = { 
				heavy_troops = { 
					who = knights
					value = 0.4
					}
				heavy_troops = { 
					who = vampire_knights
					value = 0.4
					}
			}
		}
	}

	knights_offensive = 4.2
	vampire_knights_offensive = 4.2
	heavy_infantry_offensive = -0.6
	pikemen_offensive = 0.6
	enemy = {
		group = advance
		factor = 3
	}
}

# Arab
desert_ambush_tactic = {
	days = 18
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		OR = {
			light_cavalry = 0.1
			camel_cavalry = 0.1
		}
		light_infantry = 0.1
		flank_has_leader = yes
		leader = { culture_group = arabyan_group }
		location = { terrain = desert }
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 10
			}
			OR = {
				troops = { 
					who = light_cavalry
					value = 0.2
				}
				troops = { 
					who = camel_cavalry
					value = 0.2
				}
			}
			troops = { 
				who = light_infantry
				value = 0.2
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 10
				trait = trickster
			}
			OR = {
				troops = { 
					who = light_cavalry
					value = 0.2
				}
				troops = { 
					who = camel_cavalry
					value = 0.2
				}
			}
			troops = { 
				who = light_infantry
				value = 0.2
			}
		}
	}

	light_cavalry_offensive = 1.8
	camel_cavalry_offensive = 2.4
	light_infantry_offensive = 1.2
	horse_archers_offensive = 1.2
	archers_offensive = 1.2
	gunpowder_defensive = 1.2
	
	enemy = {
		group = advance
		factor = 3
	}
}

# Byzantine
embolon_charge_formation_tactic = {
	days = 18
	sprite = 5
	group = charge

	trigger = {
		phase = melee 
		knights = 0.01
		flank_has_leader = yes
		leader = { culture_group = bretonnian_group }
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = { 
				heavy_troops = { 
					who = knights
					value = 0.6
					}
				heavy_troops = { 
					who = vampire_knights
					value = 0.6
					}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = { 
				heavy_troops = { 
					who = knights
					value = 0.5
					}
				heavy_troops = { 
					who = vampire_knights
					value = 0.5
					}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = { 
				heavy_troops = { 
					who = knights
					value = 0.4
					}
				heavy_troops = { 
					who = vampire_knights
					value = 0.4
					}
			}
		}
	}

	knights_offensive = 2.4
	vampire_knights_offensive = 2.4
	light_cavalry_offensive = 1.8
	heavy_infantry_offensive = -1.2
	pikemen_offensive = 0.6
	enemy = {
		group = advance
		factor = 3
	}
}

# War Elephants
crushing_charge_tactic = {
	days = 10
	sprite = 8 # index of icon
	group = charge
	
	trigger = {
		phase = skirmish
		is_flanking = no
		
		OR = {
			war_elephants = 0.01
			knights = 0.2
		}		
	}

	mean_time_to_happen = {
		days = 2 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 10
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			war_elephants = 0.06
		}
		modifier = {
			factor = 10
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			war_elephants = 0.04
		}
		modifier = {
			factor = 10
			flank_has_leader = yes
			leader = {
				martial = 18
			}
			war_elephants = 0.02
		}
		modifier = {
			factor = 8
			flank_has_leader = yes
			leader = {
				martial = 18
			}
			troops = {
				who = knights
				value = 0.4
			}
		}
	}

	change_phase_to = melee

	knights_offensive = 1.75
	war_elephants_offensive = 2.5 
}

gray_wall_tactic = {
	days = 12
	sprite = 8 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		war_elephants = 0.005
	}

	mean_time_to_happen = {
		days = 5
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			light_troops = {
				who = archers
				value = 0.3
			}
		}
		modifier = {
			factor = 10
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			war_elephants = 0.02
		}
		modifier = {
			factor = 10
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			war_elephants = 0.04
		}
	}

	light_infantry_defensive = 1.2
	heavy_infantry_defensive = 3
	pikemen_defensive = 2.4
	war_elephants_defensive = 1.5

	archers_offensive = 1.2
	archers_defensive = 0.6
	
	artillery_defensive = 0.6
	gunpowder_defensive = 0.6

	light_cavalry_defensive = -0.5
	knights_defensive = -0.5
	horse_archers_defensive = -0.5
}

force_back_tactic = {
	days = 24
	sprite = 3
	group = stand_fast

	trigger = {
		phase = melee
		OR = {
			war_elephants = 0.005
			heavy_infantry = 0.25
			pikemen = 0.25
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			OR = {
				heavy_troops = { 
					who = pikemen
					value = 0.7
				}
				heavy_troops = { 
					who = heavy_infantry
					value = 0.3
				}
				troops = {
					who = war_elephants
					value = 0.04
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			OR = {
				heavy_troops = { 
					who = pikemen
					value = 0.6
				}
				heavy_troops = { 
					who = heavy_infantry
					value = 0.3
				}
				troops = {
					who = war_elephants
					value = 0.02
				}
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			OR = {
				heavy_troops = { 
					who = pikemen
					value = 0.5
				}
				heavy_troops = { 
					who = heavy_infantry
					value = 0.3
				}
				troops = {
					who = war_elephants
					value = 0.01
				}
			}
		}
	}

	knights_offensive = -1.8
	vampire_knights_offensive = -1.8
	archers_offensive = -1.0
	light_cavalry_offensive = -1.0
	horse_archers_offensive = -1.0
	heavy_infantry_offensive = 1.6
	pikemen_offensive = 2.4
	war_elephants_offensive = 1.2
	enemy = {
		group = charge
		factor = 3
	}
}

# Gunners
gun_volley_tactic = {
	days = 12
	sprite = 11
	group = volley

	trigger = {
		phase = skirmish  
		gunpowder = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 8
			}
			heavy_troops = { 
				who = gunpowder
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 12
			}
			heavy_troops = { 
				who = gunpowder
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 16
			}
			heavy_troops = { 
				who = gunpowder
				value = 0.5
			}
		}
	}

	gunpowder_offensive = 1.5
	
	enemy = {
		group = defensive
		factor = 1
	}
}

# magical_spells
magical_spells_barrage_tactic = {
	days = 12
	sprite = 10
	group = volley

	trigger = {
		phase = skirmish  
		magical_spells = 0.01
	}

	mean_time_to_happen = {
		days = 1 #ASA magical_spells troops are available
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				learning = 8
			}
			heavy_troops = { 
				who = magical_spells
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				learning = 12
			}
			heavy_troops = { 
				who = magical_spells
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				learning = 16
			}
			heavy_troops = { 
				who = magical_spells
				value = 0.5
			}
		}
	}

	magical_spells_offensive = 4.0
	
	enemy = {
		group = defensive
		factor = 1
	}
}

#Artillery
artillery_barrage_tactic = {
	days = 12
	sprite = 9
	group = volley

	trigger = {
		phase = skirmish  
		artillery = 0.01
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				learning = 8
			}
			heavy_troops = { 
				who = artillery
				value = 0.7
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				learning = 12
			}
			heavy_troops = { 
				who = artillery
				value = 0.6
			}
		}
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				learning = 16
			}
			heavy_troops = { 
				who = artillery
				value = 0.5
			}
		}
	}

	artillery_offensive = 4.0
	
	enemy = {
		group = defensive
		factor = 1
	}
}

# Khorne Bloodletters
bloodletter_charge_tactic = {
	days = 8
	sprite = 15 # index of icon
	group = skirmish
	
	trigger = {
		phase = skirmish
		daemonic_host = 0.01
		leader = { religion = khorne }
		}

	mean_time_to_happen = {
		days = 15 # this has nothing to do with days, it just represents relative chance of selecting this tactic, higher is better
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 8 }
			daemonic_host = 0.06
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 12 }
			daemonic_host = 0.04
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 18 }
			daemonic_host = 0.02
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 18 }
			troops = {
				who = heavy_infantry
				value = 0.4
				}
			}
	}
	change_phase_to = melee
	daemonic_host_offensive = 2
	daemonic_host_defensive = 0.75 
}

# Nurgle Plaguebearers
plaguebearer_defense_tactic = {
	days = 7
	sprite = 15
	group = stand_fast

	trigger = {
		phase = melee
		daemonic_host = 0.01
		leader = { religion = nurgle }
	}

	mean_time_to_happen = {
		days = 15 
		modifier = {
			factor = 2.5
			leader = {
				martial = 8
			}
			heavy_troops = { 
					who = daemonic_host 
					value = 0.7
				}
		}
		modifier = {
			factor = 2.5
			leader = { martial = 12 }
				heavy_troops = { 
					who = daemonic_host 
					value = 0.6
				}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
				heavy_troops = { 
					who = daemonic_host 
					value = 0.75
					}
		}
	}

	knights_offensive = -1.8
	archers_offensive = -1.0
	light_cavalry_offensive = -1.0
	horse_archers_offensive = -1.0
	heavy_infantry_offensive = -1.6
	pikemen_offensive = -2.4
	war_elephants_offensive = -1.2
	daemonic_host_offensive = 1.25
	daemonic_host_defensive = 1.95 
}

# Daemonettes leap
daemonettes_leap_tactic = {
	days = 6
	sprite = 15
	group = skirmish

	trigger = {
		phase = skirmish
		daemonic_host = 0.01
		leader = { religion = slaanesh }
	}

	mean_time_to_happen = {
		days = 15 
		modifier = {
			factor = 2.5
			leader = {
				martial = 8
			}
			heavy_troops = { 
					who = daemonic_host 
					value = 0.7
				}
		}
		modifier = {
			factor = 2.5
			leader = { martial = 12 }
				heavy_troops = { 
					who = daemonic_host 
					value = 0.6
				}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
				heavy_troops = { 
					who = daemonic_host 
					value = 0.75
					}
		}
	}

	light_cavalry_offensive = 1.1
	light_infantry_offensive = 1.1
	horse_archers_offensive = 1.1
	archers_offensive = 1.1
	daemonic_host_offensive = 1.25
	daemonic_host_defensive = 1.25
	change_phase_to = skirmish
	
}

#Flamers burst
flamers_burst_tactic = {
	days = 9
	sprite = 15
	group = volley

	trigger = {
		phase = skirmish  
		daemonic_host = 0.01
		leader = { religion = tzeentch }
	}

	mean_time_to_happen = {
		days = 15 
		modifier = {
			factor = 2.5
			leader = {
				martial = 8
			}
			heavy_troops = { 
					who = daemonic_host 
					value = 0.7
				}
		}
		modifier = {
			factor = 2.5
			leader = { martial = 12 }
				heavy_troops = { 
					who = daemonic_host 
					value = 0.6
				}
		}
		modifier = {
			factor = 2.5
			flank_has_leader = yes
			leader = { martial = 16 }
				heavy_troops = { 
					who = daemonic_host 
					value = 0.75
					}
		}
	}

	daemonic_host_offensive = 5.0
	daemonic_host_defensive = -0.5
	
}

###DAEMON PRINCES TACTICS

daemonic_defense_tactic = {
	days = 10
	sprite = 15 # index of icon
	group = defensive

	trigger = {
		phase = skirmish
		flank_has_leader = yes
		leader = {
			OR = {
				trait = prince_khorne
				trait = prince_nurgle
				trait = prince_slaanesh
				trait = prince_tzeentch
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 1.5
			flank_has_leader = yes
			leader = {
				martial = 14
			}
		}
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
			}
		}
	}

	knights_defensive = 1.5
	heavy_infantry_defensive = 1.5
	light_infantry_defensive = 1.5
	light_cavalry_defensive = 1.5
	camel_cavalry_defensive = 1.5
	archers_defensive = 1.5
	gunpowder_defensive = 1.15
	artillery_defensive = 1.2
	horse_archers_defensive = 1.5
	pikemen_defensive = 1.5
	daemonic_host_defensive = 1.75
	daemonic_host_morale = 1.25
	
}
daemonic_countercharge_tactic = {
	days = 12
	sprite = 15
	group = charge

	trigger = {
		phase = melee
		flank_has_leader = yes
		leader = {
			OR = {
				trait = prince_khorne
				trait = prince_nurgle
				trait = prince_slaanesh
				trait = prince_tzeentch
			}
		}
	}

	mean_time_to_happen = {
		days = 3
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 14
				}
			}
	}

	knights_offensive = 3.6
	light_cavalry_offensive = 3.6
	camel_cavalry_offensive = 3.6
	heavy_infantry_offensive = 1.6
	pikemen_offensive = 0.6
	daemonic_host_offensive = 2.75
	daemonic_host_morale = 0.85

}

#special tactic when Asur are being invaded by Druchii
asuryan_defense = {
	days = 12
	sprite = 15
	group = charge

	trigger = {
		phase = melee
		enemy = { leader = { religion_group = cytharai_group } }
		leader = {
			culture_group = asur_group
			# top_liege = { any_war = { any_attacker = { using_cb = ulthuan_invasion } } #I don't think this works inside combat tactics triggers
			# has_landed_title = e_ulthuan 
		}
	}

	mean_time_to_happen = {
		days = 5
		modifier = {
			factor = 3
			flank_has_leader = yes
			leader = {
				martial = 12
				}
			}
	}

	knights_offensive = 1.2
	light_cavalry_offensive = 1.2
	heavy_infantry_offensive = 1.2
	heavy_infantry_defensive = 1.5
	pikemen_offensive = 1.6
	light_infantry_offensive = 1.25
	light_infantry_defensive = 2.5
	pikemen_defensive = 2.75

}



##########################################################################
# Siege offensive tactics
##########################################################################
# Must be first "siege = attacker"
no_siege_offense_tactic = {
	days = 1 # tactic lasts one day
	sprite = 1 # index of icon
	
	siege = attacker	
	
	trigger = {
		always = no # never use unless set explicitly by code
	}
}

default_siege_offense_tactic = {
	days = 5
	sprite = 1

	siege = attacker	

	trigger = {
		always = yes
	}

	mean_time_to_happen = {
		days = 10
	}
}


##########################################################################
# Siege defensive tactics
##########################################################################

# Must be first "siege = defender"
no_siege_defense_tactic = {
	days = 1 # tactic lasts one day
	sprite = 1 # index of icon
	siege = defender	
	trigger = {
		always = no # never use unless set explicitly by code
	}
}

default_siege_defense_tactic = {
	days = 5
	sprite = 1

	siege = defender
	
	trigger = {
		always = yes
	}

	mean_time_to_happen = {
		days = 10
	}
}

##########################################################################
# Combat MTTH definitions(do not remove)
##########################################################################

flank_retreat_odds =
{
	# MTTH range is 0-100, if flank morale is below MTTH, flank will retreat
	mean_time_to_happen = {
		days = 25
		modifier = {
			factor = 0.1
			heavy_troops = { 
					who = daemonic_host 
					value = 0.5
					}
			}
		modifier = {
			factor = 0
			heavy_troops = { 
					who = undead_horde
					value = 0.75
					}
			}
		modifier = {
			factor = 0
			leader = { culture = nehekharan }
			}
	}
}

flank_pursue_odds =
{
	# MTTH range is 0-100, chance (in %) of pursuing a fleeing flank
	mean_time_to_happen = {
		days = 25
	}
}
